<html lang="ko">
  <head>
    <title>동의보감(東醫寶鑑) &gt;내경편 권01</title>
    <link href="/img/favicon.ico" rel="shortcut icon" type="image/x-ico" />
    <link href="/img/favicon.ico" rel="icon" type="image/x-ico" />
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    <meta
      content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"
      name="viewport"
    />
    <meta content="한의학고전DB" name="title" />
    <meta content="Oriental Medicine" name="subject" />
    <meta content="한의학,Oriental Medicine" name="keywords" />
    <link rel="stylesheet" type="text/css" href="/css/style.css" />
    <link rel="stylesheet" type="text/css" href="/css/font-awesome.css" />
    <link rel="stylesheet" type="text/css" href="/css/tooltipster/tooltipster.css" />
    <link rel="stylesheet" type="text/css" href="/css/magnific-popup.css" />
    <script
      type="text/javascript"
      async=""
      src="https://www.googletagmanager.com/gtag/js?id=G-PLWWTKXHH6&amp;cx=c&amp;_slc=1"
    ></script>
    <script async="" src="//www.google-analytics.com/analytics.js"></script>
    <script>
      (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        (i[r] =
          i[r] ||
          function () {
            (i[r].q = i[r].q || []).push(arguments);
          }),
          (i[r].l = 1 * new Date());
        (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
      })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

      ga('create', 'UA-72694265-1', 'auto');
      ga('send', 'pageview');
    </script>
    <!--[if lt IE 9]>
      <script
        src="https://cdn.mediclassics.kr/js/html5.js"
        integrity="sha384-7dbwD6Yft9WyCrJiipumQSnpsDLMz9CaEskxRW2eItbOl1Oy6DZU1FFvH51OgfbG"
        crossorigin="anonymous"
      ></script>
      <script
        src="https://cdn.mediclassics.kr/js/respond.min.js"
        integrity="sha384-pxUanjoWKeLFJCe09VZsk5B70E1Oc0vZIWBSgd6ztlzKD5U6HwVgmQXSTdmd3Mp8"
        crossorigin="anonymous"
      ></script>
    <![endif]-->
    <script
      crossorigin="anonymous"
      integrity="sha384-EaUkI/FiMJtEXWAl0dCczvbFvjfzsIF1UNKGJvu9p5JIG71Kih7/kQJvYbBL7HOn"
      src="https://cdn.mediclassics.kr/js/jquery-1.9.1.min.js"
    ></script>
    <script
      crossorigin="anonymous"
      integrity="sha384-/JBv9dIoQmU4g+9DzODS8SlShLq3Cq7kQYOO549UIZ2r/o0e7Te3dRr6FivAxc51"
      src="https://cdn.mediclassics.kr/js/jquery.tooltipster.js"
    ></script>
    <script
      crossorigin="anonymous"
      integrity="sha384-q/dYpqk7tHM/gtJaGcJ5cLUj/SLOHInuu5YDGpm4R9ya4x47p5usgahDz4ONI2Y7"
      src="https://cdn.mediclassics.kr/js/pace.min.js"
    ></script>
    <script
      crossorigin="anonymous"
      integrity="sha384-BP0iZA3MHnezhqarl/DGMJGkwDr9H5JBGCMpRjhB7TxedIX+f2bLrU61p4KW7gjU"
      src="https://cdn.mediclassics.kr/js/jquery.magnific-popup.js"
    ></script>
    <script>
      Pace.options = {
        ajax: false,
      };
      Pace.on('done', function () {
        if ($('#bg-layer').hasClass('block-bg')) {
          $('#bg-layer').removeClass('block-bg');
        }
      });
      $(document).ready(function () {
        $('#sch_txt').keydown(function (event) {
          if (event.which == 13) {
            goSearch();
          }
        });

        $('#sch_txt')
          .on('keydown', function (event) {
            if (
              event.keyCode === $.ui.keyCode.TAB &&
              $(this).data('autocomplete') &&
              $(this).data('autocomplete').menu.active
            ) {
              event.preventDefault();
            }
          })
          .autocomplete({
            minLength: 2,
            source: function (request, response) {
              $.getJSON('/search/autocomplete?search=' + encodeURI($('#sch_txt').val()), response);
            },
            focus: function () {
              return false;
            },
          });

        $('#gnb_open').bind('click keydown', function (e) {
          e.preventDefault();
          if ($('#gnb').css('display') == 'none') {
            $('#gnb').show();
            $('#sch').hide();
          } else {
            $('#gnb').hide();
          }
        });
        $('#sch_open').bind('click keydown', function (e) {
          e.preventDefault();
          if ($('#sch').css('display') == 'none') {
            $('#sch').show();
            $('#gnb').hide();
            $('#sch_txt').focus();
          } else {
            $('#sch').hide();
            $('#sch_txt').blur();
          }
        });
      });
      function goSearch() {
        var search = $('#sch_txt').val();
        $('.ui-autocomplete').hide();
        var messageOfLength = '\uAC80\uC0C9\uC5B4\uB97C 2\uC790 \uC774\uC0C1 \uC785\uB825\uD558\uC138\uC694.';
        if (search == '' || search.length < 2) {
          alert(messageOfLength);
        } else {
          $('<input/>').attr({ type: 'hidden', name: 'search', value: search }).appendTo('#searchForm');
          $('#searchForm').submit();
        }
      }

      function split(val) {
        return val.split(/,\s*/);
      }

      function extractLast(term) {
        return split(term).pop();
      }
    </script>
    <meta charset="UTF-8" />
    <meta content="한의학 고전 DB" property="og:title" />
    <meta content="한의학 고전 DB" property="og:site_name" />
    <meta property="og:url" content="http://kiom.gplusit.kr:8080/books/8/volume/1" />
    <meta content="website" property="og:type" />
    <meta property="og:description" content="동의보감(東醫寶鑑) - 내경편 권01" />
    <meta content="http://kiom.gplusit.co.kr:8080/img/index/title_book.png" property="og:image" />
    <meta content="한의학 고전 DB" name="twitter:title" />
    <meta content="한의학 고전 DB" name="twitter:site" />
    <meta content="한국한의학연구원" name="twitter:creator" />
    <meta content="http://kiom.gplusit.kr:8080/img/index/title_book.png" name="twitter:image" />
    <meta name="twitter:description" content="null(東醫寶鑑) - 내경편 권01" />
    <meta content="한의학 고전 DB" itemprop="name" />
    <meta itemprop="description" content="동의보감(東醫寶鑑) - 내경편 권01" />
    <meta content="http://kiom.gplusit.kr:8080/img/index/title_book.png" itemprop="image" />
    <meta name="title" content="null(東醫寶鑑)-내경편 권01" />
    <meta content="Oriental Medicine" name="subject" />
    <meta name="keywords" content="null,東醫寶鑑,내경편 권01" />
    <script
      async=""
      crossorigin="anonymous"
      integrity="sha384-Ht+r7m8cKfvoVxh0M1b1YPQ4ow42kJNxtLKVJ/paU07vYtsVBV+cKFbHD638g/4H"
      src="https://platform.twitter.com/widgets.js"
      type="text/javascript"
    ></script>
    <script
      crossorigin="anonymous"
      integrity="sha384-G08VidxK5eWOi60W3I7s3drFb0SDKYYgJBFrpwQTlBdig8bIZOd9CGPekFEtdIPz"
      src="https://cdn.mediclassics.kr/js/hammer.min.js"
    ></script>
    <script
      crossorigin="anonymous"
      integrity="sha384-B1IvBI19tUMQiWwyi/3Wh8efRpeGZJKfOYwdgUKTvmBmol/k+Jas2Ml37bV+RDV2"
      src="https://cdn.mediclassics.kr/js/jquery.hammer.js"
    ></script>
    <script
      async=""
      crossorigin="anonymous"
      defer=""
      integrity="sha384-pMq0cI4qgeqCSMN1LFumziy3D2L2HgRdA8Qz0FIubdGHqXiE3kgPd9Zy8nogIxF9"
      src="https://apis.google.com/js/platform.js"
    ></script>
    <style>
      #area1,
      #area2 {
        width: 100%;
        height: 100%;
        min-height: 600px;
        overflow-y: hidden !important;
      }
      #area1 > iframe,
      #area2 > iframe {
        width: 100%;
        height: 100%;
        min-height: 600px;
      }
      #linkLayer {
        cursor: move;
      }
      .exception-el {
        cursor: auto !important;
      }
      body.modal-open {
        overflow: hidden;
      }
      .layer_bg {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #000;
        opacity: 0.5;
        filter: alpha(opacity=50);
        z-index: 10000;
      }
      .lodingCss {
        color: #000;
        -webkit-transition: background 0.5s linear;
        -moz-transition: background 0.5s linear;
        -ms-transition: background 0.5s linear;
        -o-transition: background 0.5s linear;
        transition: background 0.5s linear;
      }
      .bottomCollapseDirectionClose {
        background: url(/img/common/icon_expand_close.png) no-repeat;
        background-position: left top;
      }
      .bottomCollapseDirectionOpen {
        background: url(/img/common/icon_expand_open.png) no-repeat;
        background-position: left top;
      }
      .frameShare {
        margin: 10px 0px;
      }
      .predisplay {
        border: 1px solid #d3d3d3;
        background: #fafafa;
        overflow: auto;
        overflow-y: hidden;
        padding: 5px;
      }
      .iframeText {
        margin-top: 10px;
        border: 1px solid #d3d3d3;
        background: #fafafa;
      }
      .breakText {
        word-wrap: break-word;
      }
      .sizeText > label {
        font-size: 0.875em;
      }
      .sizeText > input {
        width: 15%;
        margin-left: 5px;
      }
      #bg-layer.block-bg {
        background: #000;
      }
      .frameClose {
        margin-top: 10px;
        padding-top: 15px;
        padding-bottom: 15px;
      }
      .frameOpen {
        margin-top: 10px;
        padding-top: 15px;
        padding-bottom: 15px;
      }
    </style>
  </head>
  <body class="pace-done">
    <div class="pace pace-inactive">
      <div
        class="pace-progress"
        data-progress-text="100%"
        data-progress="99"
        style="transform: translate3d(100%, 0px, 0px)"
      >
        <div class="pace-progress-inner"></div>
      </div>
      <div class="pace-activity"></div>
    </div>

    <div id="wrap">
      <div id="skipNav">
        <a href="#table_contents" id="skipNavLink">본문 바로가기</a>
      </div>

      <!-- Header -->
      <div id="header">
        <div class="logo">
          <h1>
            <a href="/">한의학고전DB</a>
          </h1>
        </div>
        <form id="logoutForm" method="post" action="/j_spring_security_logout">
          <input name="${_csrf.parameterName}" type="hidden" value="${_csrf.token}" />
          <input type="hidden" name="_csrf" value="664964c0-0e18-44d6-bed1-81282e40c84b" />
        </form>
        <form id="searchForm" method="get" action="/search/result">
          <input id="subject" name="subject" type="hidden" value="" />
          <input id="text" name="text" type="hidden" value="" />
          <input id="original" name="original" type="hidden" value="" />
          <input id="book_15_02" name="book_15_02" type="hidden" value="" />
          <input id="book_15_other" name="book_15_other" type="hidden" value="" />
          <input id="book_div" name="book_div" type="hidden" value="" />
          <input id="sub_BOOK_DIV_01" name="sub_BOOK_DIV_01" type="hidden" value="" />
          <input id="sub_BOOK_DIV_02" name="sub_BOOK_DIV_02" type="hidden" value="" />
          <input id="sub_BOOK_DIV_03" name="sub_BOOK_DIV_03" type="hidden" value="" />
          <input id="sub_BOOK_DIV_04" name="sub_BOOK_DIV_04" type="hidden" value="" />
          <input id="sub_BOOK_DIV_06" name="sub_BOOK_DIV_06" type="hidden" value="" />
          <input id="sub_BOOK_DIV_05" name="sub_BOOK_DIV_05" type="hidden" value="" />
          <input id="publish_age" name="publish_age" type="hidden" value="" />
        </form>
        <div id="global">
          <a class="sch_open" href="javascript:;" id="sch_open" role="button">검색 열기</a>
          <div class="sch_area" id="sch">
            <input
              id="sch_txt"
              name="search"
              type="text"
              placeholder="Search"
              title="검색어 입력"
              value=""
              class="ui-autocomplete-input"
              autocomplete="off"
            />
            <button class="sch_smit" id="sch_btn" onclick="goSearch();" title="검색">검색</button>
          </div>
          <span class="sch_detail"><a href="/search/detail">Advanced</a></span>
          <div class="gnb">
            <a class="gnb_open" href="javascript:;" id="gnb_open" role="button">메뉴 열기</a>
            <ul class="gnb_list" id="gnb">
              <li><a href="/books">열람</a></li>

              <li>
                <a
                  target="_blank"
                  href="https://info.mediclassics.kr/
"
                  >Guide</a
                >
              </li>
              <li><a href="/user/signin">Sign in</a></li>

              <!--             <li><a th:unless="${#strings.toString(session._SESS_LOCALE) == 'en'}" href="javascript:;" onclick="changeLanguage('en'); return false;" >English</a></li> -->
              <!--             <li><a th:if="${#strings.toString(session._SESS_LOCALE) == 'en'}" href="javascript:;" onclick="changeLanguage('ko'); return false;" >한국어</a></li> -->
            </ul>
          </div>
        </div>
      </div>
      <!-- // Header -->

      <!-- Container -->
      <div class="" id="bg-layer"></div>
      <div id="container">
        <!-- 서적제목, 공유하기 -->
        <div class="book_tit">
          <h2>
            <span>동의보감</span>
            <small><span class="chinese"> 東醫寶鑑</span><span class="tit_class"> &gt; </span>내경편 권01</small>
          </h2>

          <a
            class="view_book"
            href="javascript:;"
            onclick="hidden_view('table_contents'); return false;"
            onkeypress="this.onclick;"
            role="button"
            >목차보기</a
          >
          <!-- 목차 -->
          <div class="table_area" id="table_contents">
            <div class="list">
              <ul>
                <li>
                  <a href="/books/8/volume/1">내경편 권01</a>
                </li>
                <li>
                  <a href="/books/8/volume/2">내경편 권02</a>
                </li>
                <li>
                  <a href="/books/8/volume/3">내경편 권03</a>
                </li>
                <li>
                  <a href="/books/8/volume/4">내경편 권04</a>
                </li>
                <li>
                  <a href="/books/8/volume/5">외형편 권01</a>
                </li>
                <li>
                  <a href="/books/8/volume/6">외형편 권02</a>
                </li>
                <li>
                  <a href="/books/8/volume/7">외형편 권03</a>
                </li>
                <li>
                  <a href="/books/8/volume/8">외형편 권04</a>
                </li>
                <li>
                  <a href="/books/8/volume/9">잡병편 권01</a>
                </li>
                <li>
                  <a href="/books/8/volume/10">잡병편 권02</a>
                </li>
                <li>
                  <a href="/books/8/volume/11">잡병편 권03</a>
                </li>
                <li>
                  <a href="/books/8/volume/12">잡병편 권04</a>
                </li>
                <li>
                  <a href="/books/8/volume/13">잡병편 권05</a>
                </li>
                <li>
                  <a href="/books/8/volume/14">잡병편 권06</a>
                </li>
                <li>
                  <a href="/books/8/volume/15">잡병편 권07</a>
                </li>
                <li>
                  <a href="/books/8/volume/16">잡병편 권08</a>
                </li>
                <li>
                  <a href="/books/8/volume/17">잡병편 권09</a>
                </li>
                <li>
                  <a href="/books/8/volume/18">잡병편 권10</a>
                </li>
                <li>
                  <a href="/books/8/volume/19">잡병편 권11</a>
                </li>
                <li>
                  <a href="/books/8/volume/20">탕액편 권01</a>
                </li>
                <li>
                  <a href="/books/8/volume/21">탕액편 권02</a>
                </li>
                <li>
                  <a href="/books/8/volume/22">탕액편 권03</a>
                </li>
                <li>
                  <a href="/books/8/volume/23">침구편 권01</a>
                </li>
              </ul>
            </div>
          </div>
          <!-- // 목차 -->
        </div>

        <div class="book_view">
          <!-- 서적 내용 -->
          <div class="book_txt">
            <!-- 스크롤시 고정영역 -->
            <div id="book_ctrl" class="ctrl_pos">
              <div class="ctrl_area">
                <a href="javascript:;" id="toggle_b_level" role="button" title="전체접기"
                  ><i class="fa fa-list-ul fa-border"></i><span class="static-hide">전체접기</span></a
                >
                <!-- <span id="current_sec" th:utext="${aa.original}" class="h3">津液</span> -->
                <div class="ellipsis-box ellipsis reverse-ellipsis">
                  <span class="h3" id="current_sec_nav"
                    ><a
                      class="anchor-button"
                      onclick="moveTo(this); return false;"
                      href="#content_1"
                      title="內景篇卷之一 "
                      >內景篇卷之一 </a
                    >&gt;
                    <a class="anchor-button" onclick="moveTo(this); return false;" href="#content_136" title=" 身形 ">
                      身形 </a
                    >&gt;
                    <a
                      class="anchor-button"
                      onclick="moveTo(this); return false;"
                      href="#content_137"
                      title=" 形氣之始"
                    >
                      形氣之始</a
                    >
                    <span id="current_sec_num" class="sec_num">1.1</span></span
                  >
                  <!-- <span id="current_sec_num" class="sec_num"></span> -->
                </div>
                <!-- 본문설정 -->
                <div id="book_ctrl_width" class="ctrl_width">
                  <div class="scroll_top" style="display: block">
                    <a
                      class="back_to_top minus-text-indent"
                      href="javascript:;"
                      id="back_to_top"
                      role="button"
                      title="위로"
                      >top</a
                    >
                  </div>
                  <div class="view_setting">
                    <a
                      class="setting_btn minus-text-indent"
                      href="javascript:;"
                      onclick="hidden_view('settings'); return false;"
                      onkeypress="this.onclick;"
                      role="button"
                      title="본문 설정"
                      >본문 설정</a
                    >
                    <div class="setting" id="settings">
                      <ul>
                        <li>
                          <span>
                            <input class="st_lang_setting" id="st_or" type="checkbox" value="" checked="checked" />
                            <label for="st_or">원문</label>
                          </span>
                          <span>
                            <input class="st_lang_setting" type="checkbox" value="" checked="checked" id="st_ko" />

                            <label for="st_ko">한국어</label>
                          </span>
                          <span>
                            <input class="st_lang_setting" type="checkbox" value="" id="st_en" />
                            <label for="st_en">영어</label>
                          </span>
                        </li>
                        <li>
                          <span
                            ><input id="st_sym" type="checkbox" value="" checked="checked" />
                            <label for="st_sym">교감기</label></span
                          >
                          <span
                            ><input id="st_fre" type="checkbox" value="" checked="checked" />
                            <label for="st_fre">역자주</label></span
                          >
                        </li>
                        <li>
                          <span class="mani-font-txt">글씨크기</span>
                          <span
                            class="mani-font"
                            id="mani-font-larger"
                            alt="Increase font size"
                            title="Increase font size"
                          >
                            <a href="javascript:;" role="button" title="Increase font size">
                              <i class="fa fa-plus-square fa-lg"></i><span class="static-hide">Increase font size</span>
                            </a>
                          </span>
                          <span class="mani-font pd_r15" id="mani-font-original">
                            <a href="javascript:;" role="button" title='Reset font size"'>
                              <img
                                alt="100%"
                                style="vertical-align: middle; padding-bottom: 2px"
                                src="/img/common/100per.gif"
                              />
                            </a>
                          </span>
                          <span
                            class="mani-font"
                            id="mani-font-smaller"
                            alt="Decrease font size"
                            title="Decrease font size"
                          >
                            <a href="javascript:;" role="button" title="Decrease font size">
                              <i class="fa fa-minus-square fa-lg"></i
                              ><span class="static-hide">Decrease font size</span>
                            </a>
                          </span>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- // 스크롤시 고정영역 -->
            <hr />
            <!-- 본문영역 시작 -->

            <div class="section_desc fst" style="font-size: 16px">
              <div
                class="sec_div title_section sec_h3 sec_aa loaded"
                up_content_seq="0"
                bottom_count="11"
                id="content_1"
                seq="1"
                content_level="A"
                style="background-color: rgb(255, 255, 255)"
              >
                <div class="h-div">
                  <h3 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      ><span class="sec_title">內景篇卷之一 </span></a
                    >
                  </h3>

                  <h3 class="sec_node ko">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"><span>내경편 권1 </span></a>
                  </h3>

                  <h3 class="sec_node en hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      ><span>Internal Bodily Elements, Volume 1 </span></a
                    >
                  </h3>
                </div>

                <div class="num-div">
                  <!-- <th:block th:each="scrapContent : ${scrapContentList}">
                  <span th:if="${scrapContent.getContent_seq() == section.content_seq}" class="prescription scraped_color hide" th:text="scraped"></span>
                </th:block> -->
                </div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_2"
                upath="1"
                up_content_seq="1"
                bottom_count="0"
                class="sec_div sec_txt"
                seq="2"
                up_path_nm="內景篇卷之一"
                content_level="X"
                content_level_depth="X"
              >
                <dl>
                  <dt class="sec_num"></dt>
                  <dd class="chinese or sec_node">御醫 忠勤貞亮扈聖功臣 崇祿大夫 陽平君 臣 許浚奉敎撰</dd>
                  <dd class="ko sec_node">어의 충근정량호성공신 숭록대부 양평군 허준이 하교를 받들어 짓습니다.</dd>
                  <dd class="en sec_node hide">
                    Written by the order of the King, by Court Physician, Diligently Loyal Vassal of Merit, Grand Master
                    for Esteemed Merit, Lord Yangpyung, Heo Jun
                  </dd>
                </dl>
                <div class="clearfix"></div>
              </div>
            </div>

            <div class="section_desc" style="font-size: 16px">
              <div
                class="sec_div title_section sec_h3"
                up_path_nm="內景篇卷之一"
                up_content_seq="1"
                bottom_count="8"
                id="content_3"
                seq="3"
                content_level="O"
                upath="1"
              >
                <div class="h-div">
                  <h3 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      ><span class="sec_title">東醫寶鑑序 </span></a
                    >
                  </h3>

                  <h3 class="sec_node ko">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"><span>동의보감 서문 </span></a>
                  </h3>

                  <h3 class="sec_node en hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"><span>Preface </span></a>
                  </h3>
                </div>
                <div class="num-div">
                  <!-- <th:block th:each="scrapContent : ${scrapContentList}">
                  <span th:if="${scrapContent.getContent_seq() == section.content_seq}" class="prescription scraped_color hide" th:text="scraped"></span>
                </th:block> -->
                </div>
                <div class="clearfix"></div>
              </div>
            </div>

            <div class="section_desc" style="font-size: 16px">
              <div
                class="sec_div title_section sec_h3"
                up_path_nm="內景篇卷之一"
                up_content_seq="1"
                bottom_count="48"
                id="content_12"
                seq="12"
                content_level="O"
                upath="1"
              >
                <div class="h-div">
                  <h3 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      ><span class="sec_title">東醫寶鑑 總目 </span></a
                    >
                  </h3>

                  <h3 class="sec_node ko">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"><span>동의보감 총목 </span></a>
                  </h3>

                  <h3 class="sec_node en hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      ><span>Contents of Dongui Bogam </span></a
                    >
                  </h3>
                </div>
                <div class="num-div">
                  <!-- <th:block th:each="scrapContent : ${scrapContentList}">
                  <span th:if="${scrapContent.getContent_seq() == section.content_seq}" class="prescription scraped_color hide" th:text="scraped"></span>
                </th:block> -->
                </div>
                <div class="clearfix"></div>
              </div>
            </div>

            <div class="section_desc" style="font-size: 16px">
              <div
                class="sec_div title_section sec_h3"
                up_path_nm="內景篇卷之一"
                up_content_seq="1"
                bottom_count="4"
                id="content_61"
                seq="61"
                content_level="O"
                upath="1"
              >
                <div class="h-div">
                  <h3 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      ><span class="sec_title">集例 </span></a
                    >
                  </h3>

                  <h3 class="sec_node ko">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"><span>집례 </span></a>
                  </h3>

                  <h3 class="sec_node en hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      ><span>Heo Jun's Explanatory Comments </span></a
                    >
                  </h3>
                </div>
                <div class="num-div">
                  <!-- <th:block th:each="scrapContent : ${scrapContentList}">
                  <span th:if="${scrapContent.getContent_seq() == section.content_seq}" class="prescription scraped_color hide" th:text="scraped"></span>
                </th:block> -->
                </div>
                <div class="clearfix"></div>
              </div>
            </div>

            <div class="section_desc" style="font-size: 16px">
              <div
                class="sec_div title_section sec_h3"
                up_path_nm="內景篇卷之一"
                up_content_seq="1"
                bottom_count="65"
                id="content_66"
                seq="66"
                content_level="O"
                upath="1"
              >
                <div class="h-div">
                  <h3 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      ><span class="sec_title">歷代醫方 </span></a
                    >
                  </h3>

                  <h3 class="sec_node ko">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"><span>역대의방 </span></a>
                  </h3>

                  <h3 class="sec_node en hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      ><span>Heo Jun's Bibliography of Ancient Medical Texts </span></a
                    >
                  </h3>
                </div>
                <div class="num-div">
                  <!-- <th:block th:each="scrapContent : ${scrapContentList}">
                  <span th:if="${scrapContent.getContent_seq() == section.content_seq}" class="prescription scraped_color hide" th:text="scraped"></span>
                </th:block> -->
                </div>
                <div class="clearfix"></div>
              </div>
            </div>

            <div class="section_desc" style="font-size: 16px">
              <div
                class="sec_div title_section sec_h3 loaded"
                up_path_nm="內景篇卷之一"
                up_content_seq="1"
                bottom_count="3"
                id="content_132"
                seq="132"
                content_level="O"
                upath="1"
                style="background-color: rgb(255, 255, 255)"
              >
                <div class="h-div">
                  <h3 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      ><span class="sec_title">身形藏府圖 </span></a
                    >
                  </h3>

                  <h3 class="sec_node ko">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"><span>신형장부도 </span></a>
                  </h3>

                  <h3 class="sec_node en hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      ><span>Picture of the overall body, viscera, and bowels </span></a
                    >
                  </h3>
                </div>
                <div class="num-div">
                  <!-- <th:block th:each="scrapContent : ${scrapContentList}">
                  <span th:if="${scrapContent.getContent_seq() == section.content_seq}" class="prescription scraped_color hide" th:text="scraped"></span>
                </th:block> -->
                </div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_133"
                upath="1,132"
                up_content_seq="132"
                bottom_count="0"
                class="sec_div sec_txt sec_image"
                seq="133"
                up_path_nm="內景篇卷之一 > 身形藏府圖"
                content_level="P"
                content_level_depth="P"
              >
                <dl>
                  <dt class="sec_num"></dt>
                  <dd class="image sec_node" style="text-align: center">
                    <img
                      id="content_image_133"
                      class="volume_img"
                      src="/file/image/1600"
                      onclick="clickImage(this);"
                      alt="泥丸宮, 髓海腦, 玉枕關, 轆轤關, 尾閭關, 喉, 咽, 肺, 心, 膈, 膜, 脾, 胃, 肝, 腎, 膽, 小腸, 大腸, 臍, 膀胱, 穀道, 水道니환궁, 수해뇌, 옥침관, 녹로관, 미려관, 후, 인, 폐, 심, 격, 막, 비, 위, 간, 신, 담, 소장, 대장, 제, 방광, 곡도, 수도"
                      title="泥丸宮, 髓海腦, 玉枕關, 轆轤關, 尾閭關, 喉, 咽, 肺, 心, 膈, 膜, 脾, 胃, 肝, 腎, 膽, 小腸, 大腸, 臍, 膀胱, 穀道, 水道니환궁, 수해뇌, 옥침관, 녹로관, 미려관, 후, 인, 폐, 심, 격, 막, 비, 위, 간, 신, 담, 소장, 대장, 제, 방광, 곡도, 수도"
                    />
                  </dd>
                  <dd class="chinese or sec_node">身形藏府圖</dd>
                  <dd class="ko sec_node">신형장부도</dd>
                  <dd class="en sec_node hide">Picture of the overall body, viscera, and bowels</dd>
                </dl>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_134"
                upath="1,132"
                up_content_seq="132"
                bottom_count="0"
                class="sec_div sec_txt"
                seq="134"
                up_path_nm="內景篇卷之一 > 身形藏府圖"
                content_level="Z"
                content_level_depth="Z"
              >
                <dl>
                  <dt class="sec_num">1</dt>
                  <dd class="chinese or sec_node">
                    孫眞人曰, 天地之內, 以人爲貴, 頭圓象天, 足方象地, 天有四時, 人有四肢, 天有五行, 人有五藏, 天有六極,
                    人有六府, 天有八風, 人有八節, 天有九星, 人有九竅, 天有十二時, 人有十二經脉, 天有二十四氣,
                    人有二十四兪, 天有三百六十五度, 人有三百六十五骨節, 天有日月, 人有眼目, 天有晝夜, 人有寤寐,
                    天有雷電, 人有喜怒, 天有雨露, 人有涕泣, 天有陰陽, 人有寒熱, 地有泉水, 人有血脉, 地有草木, 人有毛髮,
                    地有金石, 人有牙齒, 皆稟四大五常, 假合成形.
                  </dd>
                  <dd class="ko sec_node">
                    손진인이, "천지에서 존재하는 것 가운데 사람이 가장 귀중하다. 둥근 머리는 하늘을 닮았고 네모난 발은
                    땅을 닮았다. 하늘에 사시가 있듯이 사람에게는 사지가 있고, 하늘에 오행이 있듯이 사람에게는 오장이
                    있다. 하늘에 육극(六極)이 있듯이 사람에게는 육부가 있고, 하늘에 팔풍(八風)이 있듯이 사람에게는
                    팔절(八節)이 있다. 하늘에 구성(九星)이 있듯이 사람에게는 구규(九竅)가 있고, 하늘에 십이시(十二時)가
                    있듯이 사람에게는 십이경맥이 있다. 하늘에 이십사기(二十四氣)가 있듯이 사람에게는 24개의 수혈이 있고,
                    하늘에 365도가 있듯이 사람에게는 365개의 골절이 있다. 하늘에 해와 달이 있듯이 사람에게는 두 눈이
                    있고, 하늘에 밤과 낮이 있듯이 사람은 잠이 들고 깨어난다. 하늘에 우레와 번개가 있듯이 사람에게
                    희노(喜怒)가 있고, 하늘에 비와 이슬이 있듯이 사람에게는 눈물과 콧물이 있다. 하늘에 음양이 있듯이
                    사람에게는 한열(寒熱)이 있고, 땅에 샘물이 있듯이 사람에게는 혈맥이 있다. 땅에서 풀과 나무가 자라나듯
                    사람에게는 모발이 생겨나고, 땅 속에 금석(金石)이 묻혀 있듯이 사람에게는 치아가 있다. 이 모든 것은
                    사대(四大)와 오상(五常)을 바탕으로 하여 잠시 형(形)을 빚어 놓은 것이다"라 하였다.
                  </dd>
                  <dd class="en sec_node hide">
                    There is a saying by Sun Zhenren (孫眞人), "Mankind is the most precious of all living things in the
                    universe. The round head resembles heaven, and the flat foot resembles earth; man has four limbs as
                    the universe has four seasons, man has five viscera as the universe has five phases; man has six
                    bowels as the universe has six extremes (六極), man has eight joints (八節) as the universe has
                    eight winds (八風); man has nine orifices as the universe has nine stars, and man has twelve
                    meridians as the universe has twelve hours. Man has twenty-four acupoints as the universe has
                    twenty-four qi. Also, man has 365 joints as the universe has 365 divisions; man has two eyes as the
                    universe has the sun and the moon, man sleeps, and wakes as the universe has day and night; man has
                    happiness and anger as the universe has thunder and lightning, and man has tears and nasal discharge
                    as the universe has rain and dew; man has cold and heat as the universe has yin and yang, and man
                    has blood vessels as the universe has spring water; man has hair growing as the universe has grass
                    and trees growing, and man has teeth as the universe has metals and rocks. All these shapes are
                    composed temporarily with the four greats and five constants as the fundamental foundation. "
                  </dd>
                </dl>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_135"
                upath="1,132"
                up_content_seq="132"
                bottom_count="0"
                class="sec_div sec_txt"
                seq="135"
                up_path_nm="內景篇卷之一 > 身形藏府圖"
                content_level="Z"
                content_level_depth="Z"
              >
                <dl>
                  <dt class="sec_num">2</dt>
                  <dd class="chinese or sec_node">
                    朱丹溪曰, 凡人之形, 長不及短, 大不及小, 肥不及瘦, 人之色, 白不及黑, 嫩不及蒼, 薄不及厚,
                    而況肥人濕多, 瘦人火多, 白者肺氣虛, 黑者腎氣足, 形色旣殊, 藏府亦異, 外證雖同, 治法逈別.
                  </dd>
                  <dd class="ko sec_node">
                    주단계가, "사람의 형(形)은 긴 것이 짧은 것만 못하고 큰 것이 작은 것만 못하며 살진 것이 마른 것만
                    못하다. 사람의 색은 흰 것이 검은 것만 못하고 옅은 것이 짙은 것만 못하며 엷은 것이 두터운 것만
                    못하다. 더욱이 살찐 사람은 습이 많고 마른 사람은 화가 많으며, 흰 사람은 폐기가 허하고 검은 사람은
                    신기(腎氣)가 넉넉하다. 사람마다 형색이 이미 다르면 오장육부 역시 다르기 때문에, 외증이 비록 같더라도
                    치료법은 매우 다르다"고 하였다.
                  </dd>
                  <dd class="en sec_node hide">
                    Zhu Zhenheng once said, "The shape of a man is better to be short than long, to be small than big,
                    and to be skinny than fat. The color of a man's skin is better to be black than white, to be dark
                    than pale, to be thick than thin. Furthermore, a fat man is rich in dampness, a thin person is rich
                    in Fire; a pale white person is deficient of lung qi, and a dark person is rich in kidney qi. Every
                    man is different in his complexion and shapes and therefore has differences in his viscera and
                    bowels compared to others. This shows that different patients must be treated differently even if
                    they show the same symptoms.
                  </dd>
                </dl>
                <div class="clearfix"></div>
              </div>
            </div>

            <div class="section_desc" style="font-size: 16px">
              <div
                class="sec_div title_section sec_h3 loaded"
                up_path_nm="內景篇卷之一"
                up_content_seq="1"
                bottom_count="31"
                id="content_136"
                seq="136"
                content_level="B"
                upath="1"
                style="background-color: rgb(255, 255, 255)"
              >
                <div class="h-div">
                  <h3 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      ><span class="sec_title">身形 </span></a
                    >
                  </h3>

                  <h3 class="sec_node ko">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"><span>신형 </span></a>
                  </h3>

                  <h3 class="sec_node en hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"><span>Body </span></a>
                  </h3>
                </div>
                <div class="num-div">
                  <span class="sec_num">1</span>

                  <!-- <th:block th:each="scrapContent : ${scrapContentList}">
                  <span th:if="${scrapContent.getContent_seq() == section.content_seq}" class="prescription scraped_color hide" th:text="scraped"></span>
                </th:block> -->
                </div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_137"
                upath="1,136"
                up_content_seq="136"
                bottom_count="2"
                class="sec_div title_section sec_h4 bottomCollapseDirectionOpen loaded"
                seq="137"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
                style="background-color: rgb(255, 255, 255)"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;形氣之始 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;형기의 시작 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;The Beginning of Form and Qi
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.1</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_138"
                upath="1,136,137"
                up_content_seq="137"
                bottom_count="0"
                class="sec_div sec_txt on"
                seq="138"
                up_path_nm="內景篇卷之一 > 身形 > 形氣之始"
                content_level="Z"
                content_level_depth="Z"
              >
                <dl>
                  <dt class="sec_num">1</dt>
                  <dd class="chinese or sec_node">
                    乾鑿度云, 天形出乎乾, 有太易太初太始太素. 夫太易者未見氣也. 太初者氣之始也. 太始者形之始也.
                    太素者質之始也. 形氣已具而痾, 痾者瘵, 瘵者病, 病由是萌生焉. 人生從乎太易, 病從乎太素.
                  </dd>
                  <dd class="ko sec_node">
                    《건착도》에, "하늘[天]의 형(形)은 건(乾)에서 나오니, 태역(太易), 태초(太初), 태시(太始),
                    태소(太素)가 있다. 태역은 기가 아직 드러나지 않은 것이고, 태초는 기가 시작하는 것이며, 태시는 형이
                    시작하는 것이고, 태소는 질이 시작되는 것이다. 형기가 갖추어진 다음에 아(痾)가 생긴다. 아란
                    채(瘵)이고, 채란 병을 말하는 것으로 병이 이로부터 생기는 것이다. 사람은 태역으로부터 생기고 병은
                    태소로부터 생긴다"고 하였다.
                  </dd>
                  <dd class="en sec_node hide">
                    In the <span class="italic">Book of Changes Heavenly-Qian Chisel Measurement</span> (乾鑿度), it is
                    said: "The specific image of heaven comes from geon (乾), which can be classified into the great
                    change (太易), great beginning (太初), great opening (太始), and great simplicity (太素). The great
                    change is when qi is not manifested yet, the great beginning is when the qi starts to form, the
                    great opening is when the form just begins to form, and the great simplicity is when texture starts
                    to form. After form and qi are complete, a (痾) is then formed. A means chae (瘵), and chae means
                    disease: disease comes from this. Humans originate from the great change and disease comes from the
                    great simplicity. "
                  </dd>
                </dl>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_139"
                upath="1,136,137"
                up_content_seq="137"
                bottom_count="0"
                class="sec_div sec_txt"
                seq="139"
                up_path_nm="內景篇卷之一 > 身形 > 形氣之始"
                content_level="Z"
                content_level_depth="Z"
              >
                <dl>
                  <dt class="sec_num">2</dt>
                  <dd class="chinese or sec_node">
                    參同契註曰, 形氣未具曰鴻濛, 具而未離曰混淪. 易曰, 易有太極, 是生兩儀. 易猶鴻濛也. 太極猶混淪也.
                    乾坤者太極之變也. 合之爲太極, 分之爲乾坤. 故合乾坤而言之謂之混淪, 分乾坤而言之謂之天地. 列子曰,
                    太初氣之始也. 太始形之始也. 亦類此.
                  </dd>
                  <dd class="ko sec_node">
                    《참동계》의 주에, "형기가 아직 갖추어지지 않은 것을 홍몽(鴻濛)이라 하고 형기가 갖추어졌으나 아직
                    분리되지는 않은 것을 혼륜(混淪)이라 한다. 《역》에서 '역에는 태극이 있으니 이것이 양의(兩儀)를
                    낳는다'고 하였는데, 역은 홍몽을 말하는 것이고 태극은 혼륜을 말하는 것이다. 건곤은 태극이 변화한
                    것인데, 합쳐지면 태극이 되고 나누어지면 건곤이 된다. 그러므로 건곤을 합쳐서 말할 때는 혼륜이라 하고,
                    건곤을 나누어서 말할 때는 천지라고 한다. 《열자》에, '태초는 기의 시작이고 태시는 형의 시작이다'라
                    하였는데, 이와 비슷한 뜻이다"라 하였다.
                  </dd>
                  <dd class="en sec_node hide">
                    In the <span class="italic">Annotation on the Token of the Agreement of the Three</span> (參同契註):
                    "That which has not formed yet is called Hong-mong (chaos, 鴻濛) and the state of showing signs of
                    formation but not yet separated is called Hon-ryun (chaos, 混淪). In the
                    <span class="italic">Book of Changes</span> (易經) it is said, "The supreme ultimate (太極) is
                    divided into two and forms yin and yang. Changes and the supreme ultimate refers to the chaotic
                    state (混淪, 鴻濛). Geon trigram (乾, meaning heaven in the Book of Changes) and Gon trigram (坤,
                    meaning earth in the Book of Changes) together form the supreme ultimate. Thus, when geon and gon
                    are discussed together, it is called Hon-ryun (chaos, 混淪) and when they are discussed separately
                    they are called heaven and earth. In the <span class="italic">Liezi</span> (列子), it is said that,
                    "The great beginning is the beginning of qi and the great opening is the beginning of form, and it
                    means nearly the same thing. "
                  </dd>
                </dl>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_140"
                upath="1,136"
                up_content_seq="136"
                bottom_count="2"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="140"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;胎孕之始 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;잉태의 시작 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;The Start of Conception </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.2</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_143"
                upath="1,136"
                up_content_seq="136"
                bottom_count="2"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="143"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;四大成形 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;사대가 형을 이룬다 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;The Four Greats - Earth, Water, Fire, and Wind - Form Shape
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.3</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_146"
                upath="1,136"
                up_content_seq="136"
                bottom_count="2"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="146"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;人氣盛衰 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;기의 성쇠 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;Rise and Fall of Human qi </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.4</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_149"
                upath="1,136"
                up_content_seq="136"
                bottom_count="1"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="149"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;年老無子 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;늙으면 자식을 가질 수 없는 이유
                    </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;An Old Person Is Infertile
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.5</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_151"
                upath="1,136"
                up_content_seq="136"
                bottom_count="2"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="151"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;壽夭之異 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;수명의 차이 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;Differences in Lifespan </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.6</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_154"
                upath="1,136"
                up_content_seq="136"
                bottom_count="3"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="154"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;形氣定壽夭 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;형과 기가 수명을 정한다 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;The Lifespan Is Dependent on the Shape and qi
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.7</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_158"
                upath="1,136"
                up_content_seq="136"
                bottom_count="2"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="158"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;人身猶一國 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;한 사람의 몸은 한 국가와 같다
                    </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;The Human Body Can Be Compared to a Nation
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.8</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_161"
                upath="1,136"
                up_content_seq="136"
                bottom_count="3"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="161"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;丹田有三 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;3가지 단전 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;There Are Three Cinnabar Fields
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.9</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_165"
                upath="1,136"
                up_content_seq="136"
                bottom_count="3"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="165"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;背有三關 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;몸 뒷면의 삼관 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;There Are Three Passages on the Back
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.10</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_169"
                upath="1,136"
                up_content_seq="136"
                bottom_count="1"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="169"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;保養精氣神 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;정기신의 보양 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;The Maintenance and Nurturing of Essence, Qi, and the Spirit
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.11</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_171"
                upath="1,136"
                up_content_seq="136"
                bottom_count="1"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="171"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;古有眞人至人聖人賢人 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;옛날에는 진인ㆍ지인ㆍ성인ㆍ현인이 있었다
                    </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;In Antiquity, There Were True Men, Ultimate Men, Holy Men, and Wise Men
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.12</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_173"
                upath="1,136"
                up_content_seq="136"
                bottom_count="1"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="173"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;論上古天眞 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;상고천진을 논한다 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;Discussion on the Natural Truth in Antiquity
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.13</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_175"
                upath="1,136"
                up_content_seq="136"
                bottom_count="1"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="175"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;四氣調神 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;사기조신 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;Living According to the Four Seasons
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.14</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_177"
                upath="1,136"
                up_content_seq="136"
                bottom_count="2"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="177"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;以道療病 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;도로써 병을 치료한다 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;Treating Diseases with the Dao
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.15</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_180"
                upath="1,136"
                up_content_seq="136"
                bottom_count="1"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="180"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;虛心合道 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;마음을 비워 도와 하나가 된다
                    </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;Emptying the Mind to Correspond to the Dao
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.16</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_182"
                upath="1,136"
                up_content_seq="136"
                bottom_count="2"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="182"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;學道無早晩 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;도를 배우는 데는 때가 없다
                    </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;The Dao Can Be Learned at Any Time of Life
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.17</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_185"
                upath="1,136"
                up_content_seq="136"
                bottom_count="5"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="185"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;人心合天機 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;사람의 마음이 천기와 하나가 되는 것
                    </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;The Human Mind Becomes One with the Heavenly Movements
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.18</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_191"
                upath="1,136"
                up_content_seq="136"
                bottom_count="4"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="191"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;搬運服食 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;반운ㆍ복식 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;Movement and Diet </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.19</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_196"
                upath="1,136"
                up_content_seq="136"
                bottom_count="4"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="196"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;按摩導引 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;안마도인 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;Massage and Guiding-pulling Exercises
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.20</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_201"
                upath="1,136"
                up_content_seq="136"
                bottom_count="9"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="201"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;攝養要訣 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;양생의 요결 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;The Key Points of Health Preservation
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.21</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_211"
                upath="1,136"
                up_content_seq="136"
                bottom_count="5"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="211"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;還丹內煉法 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;환단내련법 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;The Internal Training of Cinnabar Circulation
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.22</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_217"
                upath="1,136"
                up_content_seq="136"
                bottom_count="4"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="217"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;養性禁忌 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;양성의 금기 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;Contraindications in Nurturing Nature
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.23</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_222"
                upath="1,136"
                up_content_seq="136"
                bottom_count="7"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="222"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;四時節宣 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;계절에 맞춰 사는 법 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;Living in Accordance with the Four Seasons
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.24</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_230"
                upath="1,136"
                up_content_seq="136"
                bottom_count="7"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="230"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;先賢格言 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;선현의 격언 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;Sayings of the Early Sages
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.25</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_238"
                upath="1,136"
                up_content_seq="136"
                bottom_count="11"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="238"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;養性延年藥餌 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;본성을 길러 오래 살게 하는 약
                    </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;Prescriptions That Nurture Nature and Prolong Life
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.26</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_263"
                upath="1,136"
                up_content_seq="136"
                bottom_count="25"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="263"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;單方 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;단방 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;Simple Prescriptions </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.27</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_327"
                upath="1,136"
                up_content_seq="136"
                bottom_count="3"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="327"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;神枕法 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;신묘한 베개를 만드는 법 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;Methods of Making the Wondrous Pillow
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.28</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_331"
                upath="1,136"
                up_content_seq="136"
                bottom_count="1"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="331"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;煉臍法 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;배꼽을 단련하는 법 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;Training the Umbilicus </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.29</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_333"
                upath="1,136"
                up_content_seq="136"
                bottom_count="1"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="333"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;熏臍秘方 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;배꼽을 훈증하는 비방 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;The Secret Recipe to Fume the Umbilicus
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.30</span></div>
                <div class="clearfix"></div>
              </div>
              <div
                id="content_335"
                upath="1,136"
                up_content_seq="136"
                bottom_count="2"
                class="sec_div bottomCollapseDirectionClose title_section sec_h4"
                seq="335"
                up_path_nm="內景篇卷之一 > 身形"
                content_level="C"
                content_level_depth="C"
              >
                <div class="h-div">
                  <h4 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;灸臍法 </a>
                  </h4>
                  <h4 class="ko sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기">&nbsp;배꼽에 뜸을 뜨는 법 </a>
                  </h4>
                  <h4 class="en sec_node hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      >&nbsp;Moxibustion Treatment on the Umbilicus
                    </a>
                  </h4>
                </div>
                <div class="num-div"><span class="sec_num">1.31</span></div>
                <div class="clearfix"></div>
              </div>
            </div>

            <div class="section_desc" style="font-size: 16px">
              <div
                class="sec_div title_section sec_h3"
                up_path_nm="內景篇卷之一"
                up_content_seq="1"
                bottom_count="3"
                id="content_338"
                seq="338"
                content_level="B"
                upath="1"
              >
                <div class="h-div">
                  <h3 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      ><span class="sec_title">附養老 </span></a
                    >
                  </h3>

                  <h3 class="sec_node ko">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"><span>부록:노인 봉양 </span></a>
                  </h3>

                  <h3 class="sec_node en hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      ><span>Appendix:Supporting the Elderly </span></a
                    >
                  </h3>
                </div>
                <div class="num-div">
                  <span class="sec_num">2</span>

                  <!-- <th:block th:each="scrapContent : ${scrapContentList}">
                  <span th:if="${scrapContent.getContent_seq() == section.content_seq}" class="prescription scraped_color hide" th:text="scraped"></span>
                </th:block> -->
                </div>
                <div class="clearfix"></div>
              </div>
            </div>

            <div class="section_desc" style="font-size: 16px">
              <div
                class="sec_div title_section sec_h3"
                up_path_nm="內景篇卷之一"
                up_content_seq="1"
                bottom_count="18"
                id="content_354"
                seq="354"
                content_level="B"
                upath="1"
              >
                <div class="h-div">
                  <h3 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      ><span class="sec_title">精 </span></a
                    >
                  </h3>

                  <h3 class="sec_node ko">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"><span>정(精) </span></a>
                  </h3>

                  <h3 class="sec_node en hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"><span>Essence </span></a>
                  </h3>
                </div>
                <div class="num-div">
                  <span class="sec_num">3</span>

                  <!-- <th:block th:each="scrapContent : ${scrapContentList}">
                  <span th:if="${scrapContent.getContent_seq() == section.content_seq}" class="prescription scraped_color hide" th:text="scraped"></span>
                </th:block> -->
                </div>
                <div class="clearfix"></div>
              </div>
            </div>

            <div class="section_desc" style="font-size: 16px">
              <div
                class="sec_div title_section sec_h3"
                up_path_nm="內景篇卷之一"
                up_content_seq="1"
                bottom_count="31"
                id="content_560"
                seq="560"
                content_level="B"
                upath="1"
              >
                <div class="h-div">
                  <h3 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      ><span class="sec_title">氣 </span></a
                    >
                  </h3>

                  <h3 class="sec_node ko">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"><span>기(氣) </span></a>
                  </h3>

                  <h3 class="sec_node en hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"><span>Qi </span></a>
                  </h3>
                </div>
                <div class="num-div">
                  <span class="sec_num">4</span>

                  <!-- <th:block th:each="scrapContent : ${scrapContentList}">
                  <span th:if="${scrapContent.getContent_seq() == section.content_seq}" class="prescription scraped_color hide" th:text="scraped"></span>
                </th:block> -->
                </div>
                <div class="clearfix"></div>
              </div>
            </div>

            <div class="section_desc" style="font-size: 16px">
              <div
                class="sec_div title_section sec_h3"
                up_path_nm="內景篇卷之一"
                up_content_seq="1"
                bottom_count="21"
                id="content_871"
                seq="871"
                content_level="B"
                upath="1"
              >
                <div class="h-div">
                  <h3 class="chinese or sec_node">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"
                      ><span class="sec_title">神 </span></a
                    >
                  </h3>

                  <h3 class="sec_node ko">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"><span>신(神) </span></a>
                  </h3>

                  <h3 class="sec_node en hide">
                    <a href="javascript:;" role="button" title="표제어 펼치기/접기"><span>Spirit </span></a>
                  </h3>
                </div>
                <div class="num-div">
                  <span class="sec_num">5</span>

                  <!-- <th:block th:each="scrapContent : ${scrapContentList}">
                  <span th:if="${scrapContent.getContent_seq() == section.content_seq}" class="prescription scraped_color hide" th:text="scraped"></span>
                </th:block> -->
                </div>
                <div class="clearfix"></div>
              </div>
            </div>

            <!-- 본문영역 끝 -->
            <hr />
          </div>

          <!-- 사용자 기능 컨트롤 : 가로 1000px 이하에서 나옴 -->
          <div class="box_user_ctrl ctrl_move box_user_height">
            <a
              class="ctrl_open"
              href="#hidden_view"
              onclick="hidden_view('user_ctrl'); mobile_opt(this); return false;"
              onkeypress="this.onclick;"
              title="사용자 기능 열기"
              >사용자 기능 열기</a
            ><!-- 사용자 기능이 열린경우 class="ctrl_close"로 바뀜 -->
          </div>
          <!-- // 사용자 기능 컨트롤 -->

          <!-- 사용자 기능 -->
          <div class="book_user ctrl_box ctrl_height" id="user_ctrl" style="top: 2200px">
            <!-- 서적 내 검색 -->
            <div class="in_sch">
              <form id="book_search_form" method="get" name="book_search_form" target="_blank" action="/search/result">
                <input name="book_id" type="hidden" value="8" />
                <input
                  id="in_sch"
                  name="search"
                  type="text"
                  placeholder="서적 내 검색"
                  title="서적 내 검색"
                  class="ui-autocomplete-input"
                  autocomplete="off"
                />
                <button class="sch_smit" id="in_sch_btn" type="submit" title="검색">검색</button>
              </form>
            </div>
            <!-- <div class="scroll_area_all"> -->
            <!-- 스크롤 영역 -->

            <!-- 서적정보 -->
            <!-- 접힘 -->
            <div class="section close hide" id="info_close">
              <h4 onclick="toggleOpenClose('info'); return false;">서적정보</h4>
              <a
                class="sc_btn open"
                href="#open_info"
                id="info_btn_open"
                onclick="toggleOpenClose('info'); return false;"
                title="내용보기"
                >내용보기</a
              >
            </div>
            <!-- 펼침 -->
            <div class="section open" id="info_open">
              <h4 onclick="toggleOpenClose('info'); return false;">서적정보</h4>
              <a
                class="sc_btn close"
                href="#close_info"
                id="info_btn_close"
                onclick="toggleOpenClose('info'); return false;"
                title="내용접기"
                >내용접기</a
              >
              <div class="scroll_area">
                <div class="info_basic">
                  <span class="coverImg">
                    <img
                      height="100"
                      onerror="this.src='/img/common/book.png'"
                      width="75"
                      alt="책표지"
                      src="/file/coverImageLoad.do?book_id=8"
                    />
                  </span>
                  <ul>
                    <li><span>저편자</span> : 허준 (許浚)</li>
                    <li><span>간행시기</span> : 1613</li>
                    <li><span>번역자</span> : 해제 참조</li>
                  </ul>
                </div>
                <div class="btn_center">
                  <span class="btn_common btn_blue"><a href="/books/8">자세히 보기</a></span>
                </div>
              </div>
            </div>
            <!-- // 서적정보 -->

            <!-- 댓글 -->
            <!-- 접힘 -->
            <div class="section close hide last" id="comment_close">
              <!-- 마지막 div에는 class="last" 들어감 -->
              <h4 onclick="toggleOpenClose('comment'); return false;">오류신고</h4>
              <a
                class="sc_btn open"
                href="#open_comment"
                id="comment_btn_open"
                onclick="toggleOpenClose('comment'); return false;"
                title="내용보기"
                >내용보기</a
              >
            </div>
            <!-- 펼침 -->
            <div class="section open last" id="comment_open">
              <h4 onclick="toggleOpenClose('comment'); return false;">오류신고</h4>
              <a
                class="sc_btn close"
                href="#close_comment"
                id="comment_btn_close"
                onclick="toggleOpenClose('comment'); return false;"
                title="내용접기"
                >내용접기</a
              >
              <div class="scroll_area">
                <!-- 댓글보기 -->
                <div class="comment_list" id="comment_list">
                  <ul>
                    <li class="no_data">댓글을 입력한 후 저장하세요.</li>
                  </ul>
                </div>
                <!-- 댓글등록 -->
                <div class="comment_apply">
                  <form id="comment_apply_form">
                    <textarea
                      id="comment_content"
                      name="comment_content"
                      onfocus="commentLoginConfirm();"
                      style="width: 100%; height: 130px"
                      title="내용입력"
                    ></textarea>
                    <input id="comment_book_id" name="comment_book_id" type="hidden" value="8" />
                    <input id="comment_volume_id" name="comment_volume_id" type="hidden" value="1" />
                    <input id="comment_content_seq" name="comment_content_seq" type="hidden" value="138" />
                    <input id="comment_id" name="comment_id" type="hidden" />
                    <input id="up_comment_id" name="up_comment_id" type="hidden" />
                    <input id="reply_level" name="reply_level" type="hidden" />
                    <input id="error" name="comment_type" type="hidden" value="error" />
                    <div class="btn_center">
                      <button class="btn_c btn_blue" id="comment_save" onclick="addComment();" type="button">
                        <span>저장</span>
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
            <!-- // 댓글 -->
          </div>
          <!-- //사용자 기능 -->
        </div>

        <div>
          <div class="standalone layer_area layer_drag hide" id="popup_six_button">
            <span></span>
            <ul>
              <li class="border_b"><a href="#addUserComment" id="addUserComment">오류신고</a></li>
              <li class="border_b"><a href="" id="addShare">공유</a></li>
              <li><a href="#addQuote" id="addQuote">인용표기</a></li>
            </ul>
          </div>
        </div>
        <div class="pop_border pop_quote hide" id="quote_layer" style="position: absolute; max-width: 35%">
          <h3>인용표기</h3>
          <span class="close"><a href="#close_quote_layer" id="close_quote_layer" title="닫기">닫기</a></span>
          <ul class="exception-el">
            <li>
              <input
                checked="checked"
                id="atype"
                name="quote_type"
                onclick="clickQuoteType(this);"
                type="radio"
                value="atype"
              /><label for="atype">Vancouver Style</label>
            </li>
            <li>
              <input id="btype" name="quote_type" onclick="clickQuoteType(this);" type="radio" value="btype" /><label
                for="btype"
                >APA Style</label
              >
            </li>
            <li>
              <input id="ctype" name="quote_type" onclick="clickQuoteType(this);" type="radio" value="ctype" /><label
                for="ctype"
                >Chicago Style</label
              >
            </li>
            <li>
              <input id="dtype" name="quote_type" onclick="clickQuoteType(this);" type="radio" value="dtype" /><label
                for="dtype"
                >NLM Style</label
              >
            </li>
          </ul>
          <div class="quote_sample exception-el" id="quote_text">
            <span id="quote_original"
              ><span id="quote_book_nm"></span><span id="quote_nav"></span><br />
              <span id="quote_sentence"></span
            ></span>
            <span class="class" id="quote_references" style="word-break: break-all"></span>
          </div>
          <div class="pbtn_center">
            <button class="btn_c btn_blue btn_clipboard" id="quoteCopyBtn" type="button"><span>복사</span></button>
          </div>
        </div>
        <div class="pop_border pop_quote hide" id="share_layer" style="position: absolute">
          <h3>SNS</h3>
          <span class="close"><a href="#close_share_layer" id="close_share_layer" title="닫기">닫기</a></span>
          <ul class="exception-el share">
            <li>
              <a
                class="facebook"
                href="javascript:;"
                onclick="sendSns('FACEBOOK'); return false;"
                role="button"
                title="페이스북 공유-새창열림"
                ><i class="fa fa-facebook-square"></i><span class="static-hide">페이스북 공유</span></a
              >
            </li>
            <li>
              <a
                class="twitter"
                href="javascript:;"
                onclick="sendSns('TWITTER'); return false;"
                role="button"
                title="트위터 공유-새창열림"
                ><i class="fa fa-twitter-square"></i><span class="static-hide">트위터 공유</span></a
              >
            </li>
            <li>
              <a
                class="google"
                href="javascript:;"
                onclick="sendSns('GOOGLE'); return false;"
                role="button"
                title="구글 Plus 공유-새창열림"
                ><i class="fa fa-google-plus-square"></i><span class="static-hide">구글 Plus 공유</span></a
              >
            </li>
          </ul>
          <h3>URL</h3>
          <div class="quote_sample exception-el" id="share_text" style="margin-top: 10px">
            <span class="class" id="share_references" style="word-break: break-all"></span>
          </div>
          <div class="pbtn_center">
            <button class="btn_c btn_blue btn_clipboard_url" type="button"><span>복사</span></button>
          </div>

          <div id="frameTitle">
            <div style="margin-top: 10px">
              <h3 style="float: left">Frame</h3>
              <a
                class="frameButtonCommon frameButtonCommonClose"
                href="#"
                id="frameOnOff"
                onclick="frameToggle(); return false;"
                style="float: right"
                title="열기"
              >
                열기
              </a>
            </div>
            <div
              style="clear: both; border-bottom: 1px solid #f2f2f3; width: 100%; margin-top: 10px; margin-bottom: 10px"
            ></div>

            <div id="frameDiv" style="display: none">
              <div class="predisplay quote_sample exception-el">
                <iframe frameborder="0" id="framePre" title="공유_iframe"></iframe>
              </div>
              <div class="iframeText quote_sample exception-el">
                <span class="class breakText">
                  <xmp class="ws_normal" id="iframeText"></xmp>
                </span>
              </div>
              <div class="sizeText pbtn_center" style="margin-top: 5px">
                <span>
                  <input class="pub_lang_setting" id="pub_ori" type="checkbox" value="or" checked="checked" />
                  <label for="pub_ori">원문</label>
                </span>
                <span>
                  <input class="pub_lang_setting" type="checkbox" checked="checked" id="pub_ko" value="ko" />

                  <label for="pub_ko">한국어</label>
                </span>
                <span>
                  <input class="pub_lang_setting" type="checkbox" id="pub_en" value="en" />
                  <label for="pub_en">영어</label>
                </span>
              </div>
              <div class="sizeText pbtn_center" style="margin-top: 5px">
                <label><span>Width</span> :</label
                ><input
                  class="exception-el"
                  id="iframeWidth"
                  style="margin-right: 5%"
                  type="text"
                  value="300"
                  title="넓이"
                />
                <label><span>Height</span> :</label
                ><input class="exception-el" id="iframeHeight" type="text" value="200" title="높이" />
              </div>

              <div class="pbtn_center">
                <button class="btn_c btn_blue" id="btn_iframe_generate" type="button"><span>코드생성</span></button>
                <button class="btn_c btn_blue btn_clipboard_iframe" type="button"><span>복사</span></button>
              </div>
            </div>
          </div>
        </div>
        <div id="annotation_layer">
          <div id="ann_desc_1" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">炙 ※ 통용자</p>
          </div>
          <div id="ann_desc_2" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">雷斅 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_3" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">*百 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_4" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">*傅 ※ 문맥상</p>
          </div>
          <div id="ann_desc_5" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">*燃 ※ 문맥상</p>
          </div>
          <div id="ann_desc_6" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">역자주</p>
            <p class="desc">온역문의 단방 마늘을 설명한 곳에서, 五辛은 파, 마늘, 부추, 염교, 생강이라 하였다.</p>
          </div>
          <div id="ann_desc_7" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">眞常子 ※ 《精校東醫寶鑑》</p>
          </div>
          <div id="ann_desc_8" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">역자주</p>
            <p class="desc">
              동의보감에서는 죽대의 뿌리라고 되어 있으나, 죽대는 잎이 마주나지 않고 어긋난다. 둥굴레 계통에서 마주나는
              것(둘러나는 것을 포함)은 층층둥굴레와 낚시둥굴레가 있다.
            </p>
          </div>
          <div id="ann_desc_9" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">*川芎 ※ 남산</p>
          </div>
          <div id="ann_desc_10" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">*藁 ※ 문맥상</p>
          </div>
          <div id="ann_desc_11" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">*曝 ※ 문맥상</p>
          </div>
          <div id="ann_desc_12" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">隔一旬二旬必遺 ※ 《醫學綱目》 夢遺</p>
          </div>
          <div id="ann_desc_13" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">*入門 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_14" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">入門 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_15" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">*五臟 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_16" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">氣 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_17" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">手太陽 ※ 《靈樞》〈衛氣行〉</p>
          </div>
          <div id="ann_desc_18" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">*手太陰 ※ 《醫學綱目》</p>
          </div>
          <div id="ann_desc_19" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">역자주</p>
            <p class="desc">육식(六識)이 眼耳鼻舌身意이므로 '身'을 보충하여 해석하였다.</p>
          </div>
          <div id="ann_desc_20" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">夏 ※ 갑영_동</p>
          </div>
          <div id="ann_desc_21" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">鼻塞不利 ※ 《靈樞》, 〈本神〉(《靈樞經校釋》)</p>
            <p class="desc">鼻息利 ※ 《素問》, 〈調經論〉의 王氷注(《靈樞經校釋》)</p>
            <p class="desc">息利 ※ 《東醫寶鑑》氣門의 肺主氣</p>
            <p class="desc">息微 ※ 《東醫寶鑑》氣門의 少氣</p>
          </div>
          <div id="ann_desc_22" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">氣少 ※ 《靈樞》〈海論〉</p>
            <p class="desc">少氣力 ※ 《東醫寶鑑》氣門의 肺主氣</p>
            <p class="desc">少氣 ※ 《東醫寶鑑》氣門의 少氣</p>
          </div>
          <div id="ann_desc_23" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">帶 ※ 남산</p>
          </div>
          <div id="ann_desc_24" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">責 ※ 갑영_동, 기영_나</p>
          </div>
          <div id="ann_desc_25" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">一 ※ 갑영_동</p>
          </div>
          <div id="ann_desc_26" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">二 ※ 갑영_동, 기영_나</p>
          </div>
          <div id="ann_desc_27" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">鼻塞不利 ※ 《靈樞》, 〈本神〉(《靈樞經校釋》)</p>
            <p class="desc">鼻息利 ※ 《素問》, 〈調經論〉의 王氷注(《靈樞經校釋》)</p>
            <p class="desc">息利 ※ 《東醫寶鑑》氣門의 肺主氣</p>
            <p class="desc">息微 ※ 《東醫寶鑑》氣門의 少氣</p>
          </div>
          <div id="ann_desc_28" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">氣少 ※ 《靈樞》〈海論〉</p>
            <p class="desc">少氣力 ※ 《東醫寶鑑》氣門의 肺主氣</p>
            <p class="desc">少氣 ※ 《東醫寶鑑》氣門의 少氣</p>
          </div>
          <div id="ann_desc_29" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">被 ※ 갑영_동, 기영_나</p>
          </div>
          <div id="ann_desc_30" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">問 ※ 갑영_동</p>
          </div>
          <div id="ann_desc_31" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">方見下 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_32" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">二 ※ 갑영_동, 기영_나</p>
          </div>
          <div id="ann_desc_33" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">二 ※ 갑영_동, 기영_나</p>
          </div>
          <div id="ann_desc_34" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">大 ※ 갑영_동</p>
          </div>
          <div id="ann_desc_35" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">什 ※ 기영_나, 남산</p>
          </div>
          <div id="ann_desc_36" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">丸 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_37" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">沈香降氣湯[sm/三方見上]ㆍ五皮散[sm/方見浮腫] ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_38" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">七 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_39" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">역자주</p>
            <p class="desc">
              《世醫得效方》, 〈調氣法〉을 보면, 肝은 呵, 脾는 唏, 肺는 噓, 腎은 呬로 연결해 놓았다. 따라서
              《東醫寶鑑》의 원문과는 차이가 있다. 해석은 일단 《동의보감》대로 한다.
            </p>
          </div>
          <div id="ann_desc_40" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">太陵 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_41" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">*太衝 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_42" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">*弊 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_43" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">𩬊 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_44" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">亢 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_45" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">如 ※ 남산</p>
          </div>
          <div id="ann_desc_46" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">栀 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_47" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">*五臟 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_48" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">婦人宜加味逍遙散[sm/方見婦人], 朱砂膏[sm/見上] ※ 갑영_동, 갑완_와, 남산</p>
            <p class="desc">婦人宜加味逍遙散, 朱[sm/見人]朱砂膏[sm/見上] ※ 기영_나</p>
          </div>
          <div id="ann_desc_49" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">二 ※ 기영_나</p>
          </div>
          <div id="ann_desc_50" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">笁 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_51" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">一 ※ 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_52" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">역자주</p>
            <p class="desc">
              편뇌(片腦)는 용뇌나 장뇌를 말한다. 《東醫寶鑑》에서는 주로 용뇌가 많이 쓰였으므로 편의상 '용뇌'로
              번역하였다.
            </p>
          </div>
          <div id="ann_desc_53" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">역자주</p>
            <p class="desc">
              《醫學入門》에는 古礞石散이라 되어 있는데, 처방의 이름인지 몽석 가루를 말하는 것인지 분명하지 않다.
            </p>
          </div>
          <div id="ann_desc_54" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">*落 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_55" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">*落 ※ 문맥상</p>
          </div>
          <div id="ann_desc_56" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">*思 ※ 갑영_동, 기영_나, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_57" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">교감기</p>
            <p class="desc">依 ※ 갑영_동, 갑완_와, 남산</p>
          </div>
          <div id="ann_desc_58" class="standalone layer_area layer_exp ann_desc hide">
            <span></span>
            <p class="title">역자주</p>
            <p class="desc">말, 소, 양, 닭, 개, 돼지</p>
          </div>
        </div>

        <div class="pop_border pop_quote pop_layer" id="layer01" style="display: none; width: 100%; text-align: center">
          &nbsp;
        </div>
      </div>
      <!-- // Container -->

      <!-- Footer -->
      <div id="footerWrap">
        <div id="footer">
          <p>Copyright ⓒ Korea Institute of Oriental Medicine</p>

          <span class="logo_and_ccl">
            <span class="logo"
              ><a
                class="logo"
                href="http://www.kiom.re.kr"
                target="_blank"
                alt="한국한의학연구원 홈페이지"
                title="한국한의학연구원 홈페이지"
                >Korea Institute of Oriental Medicine</a
              ></span
            >
            <span class="ccl"><a target="_blank" href="/license" title="저작권정보 새창열림">저작권정보</a></span>
          </span>
        </div>
      </div>
      <!-- // Footer -->
    </div>

    <!-- <script src="http://code.jquery.com/jquery-latest.min.js"></script> -->
    <script src="/js/common.js"></script>
    <script
      crossorigin="anonymous"
      integrity="sha384-egui/KKTYaQd2jTVtR+VnCOlulLX+YAoaVgF1gd4ia2Fe4BC6Jflt+GZ93oZNPfx"
      src="https://cdn.mediclassics.kr/js/jquery-ui.js"
    ></script>
    <script></script>
    <div>
      <script
        crossorigin="anonymous"
        integrity="sha384-0O++gboSRW9JJe0hkZ5jdpVsXKKEGC5qTXxEJ6jBIqnoOXy8y1C7KhM3t+NWYU7p"
        src="https://cdn.mediclassics.kr/js/scrollspy/jquery-scrollspy.js"
      ></script>
      <script
        crossorigin="anonymous"
        integrity="sha384-EUVyZHL1sLfH3sG2kGvM6DauK0gevJs+n/C1v/xIffAuEzCDbnH1HJjjC3kLz/yR"
        src="https://cdn.mediclassics.kr/js/clipboard.min.js"
      ></script>
      <script src="/js/custom/contents.js"></script>
      <script>
        var admin = false;
        var contextPath = '';
        var book_nm_chi = '\u6771\u91AB\u5BF6\u9451'; // 서적명 한문
        var book_nm_kor = '\uB3D9\uC758\uBCF4\uAC10'; // 서적명 한글
        var book_id = 8;
        var volume_id = 1;
        var loginContext = null;
        var sessionVolumeSettings = null;
        var global_mouse_down = false;
        var volumeImages = [
          {
            attach_seq: 1600,
            book_id: 8,
            content_seq: 133,
            description: '\u8EAB\u5F62\u85CF\u5E9C\u5716',
            image_seq: '1',
            is_inline: 0,
            lang_code: 'OR',
            logical_file_name: 'A001_1001.png',
            physical_name: null,
            volume_id: 1,
          },
          {
            attach_seq: 1600,
            book_id: 8,
            content_seq: 133,
            description: '\uC2E0\uD615\uC7A5\uBD80\uB3C4',
            image_seq: '2',
            is_inline: 0,
            lang_code: 'KO',
            logical_file_name: 'A001_1001.png',
            physical_name: null,
            volume_id: 1,
          },
          {
            attach_seq: 1600,
            book_id: 8,
            content_seq: 133,
            description: 'Picture of the overall body, viscera, and bowels',
            image_seq: '3',
            is_inline: 0,
            lang_code: 'EN',
            logical_file_name: 'A001_1001.png',
            physical_name: null,
            volume_id: 1,
          },
        ];
        var volumeLangCodeList = [
          {
            bookCode: 'BOOK_15_02',
            dbBookCodeColumnName: 'LANG_CODE_2',
            dbBookCodeLowerColumnName: 'lang_code_2',
            dbLangDataColumnName: 'TRANS_2',
            dbLangDataLowerColumnName: 'trans_2',
            languageCode: 'KO',
            languageEnglishName: 'ko',
            languageKoreanName: '\uD55C\uAD6D\uC5B4',
            lowerLanguageCode: 'ko',
          },
          {
            bookCode: 'BOOK_15_01',
            dbBookCodeColumnName: 'LANG_CODE_1',
            dbBookCodeLowerColumnName: 'lang_code_1',
            dbLangDataColumnName: 'TRANS_1',
            dbLangDataLowerColumnName: 'trans_1',
            languageCode: 'EN',
            languageEnglishName: null,
            languageKoreanName: '\uC601\uC5B4',
            lowerLanguageCode: 'en',
          },
        ];
        var sndLevel = 'X';

        var quote_curr_seq;
        var iframe_curr_seq;

        var volume_sympathetic = '\uAD50\uAC10\uAE30'; //교감기
        var volume_frequently = '\uC5ED\uC790\uC8FC'; //역자주
        var volume_setting_lang_message =
          '\uD558\uB098 \uC774\uC0C1\uC758 \uC5B8\uC5B4\uAC00 \uC120\uD0DD\uB418\uC5B4\uC57C \uD569\uB2C8\uB2E4.';
        var common_modify = '\uC218\uC815';
        var common_delete = '\uC0AD\uC81C';
        var comment_input = '\uB0B4\uC6A9\uC785\uB825';
        var comment_content = '\uB313\uAE00\uB0B4\uC6A9';
        var common_save = '\uC800\uC7A5';
        var common_cancel = '\uCDE8\uC18C';
        var comment_none_message = '\uB4F1\uB85D\uB41C \uB313\uAE00\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.';
        var login_message_use =
          '\uB85C\uADF8\uC778 \uD6C4 \uC774\uC6A9\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4. \uB85C\uADF8\uC778 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?';
        var comment_none_message = '\uB313\uAE00\uC744 \uC785\uB825\uD55C \uD6C4 \uC800\uC7A5\uD558\uC138\uC694.';
        var clipboard_copy_message =
          '\uC774 \uC11C\uC801\uC758 \uC8FC\uC18C\uB97C \uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?';
        var clipboard_self_copy_message =
          '\uC774 \uC11C\uC801\uC758 \uC8FC\uC18C\uC785\uB2C8\uB2E4. Ctrl+C\uB97C \uB20C\uB7EC \uD074\uB9BD\uBCF4\uB4DC\uB85C \uBCF5\uC0AC\uD558\uC138\uC694';
        var common_mediclassicsDb = '\uD55C\uC758\uD559\uACE0\uC804DB'; //한의학고전DB
        var common_mediclassicsDbNote = 'MEDICLASSICS'; //MEDICLASSICS
        var common_kiom = 'Korea Institute of Oriental Medicine'; //한국한의학연구원
        var common_daejeon = 'Daejeon';
        var common_delete_question = '\uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?';
        var comment_delete_error_message =
          '\uB313\uAE00 \uC0AD\uC81C \uB3C4\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.';
        var title_open_close = '\uD45C\uC81C\uC5B4 \uD3BC\uCE58\uAE30/\uC811\uAE30';
        var common_prescription1 = '\uBCF8\uCD08'; //본초
        var common_prescription2 = '\uACBD\uD608'; //경혈
        var common_prescription3 = '\uBC29\uC81C'; //방제
        var comment_input_error_message =
          '\uB313\uAE00 \uC785\uB825 \uB3C4\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.';
        var comment_message_none = '\uB4F1\uB85D\uB41C \uB313\uAE00\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.';
        var comment_modify_error_message =
          '\uB313\uAE00 \uC218\uC815 \uB3C4\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.';
        var content_array = [];

        var isMobile = {
          Android: function () {
            return navigator.userAgent.match(/Android/i);
          },
          BlackBerry: function () {
            return navigator.userAgent.match(/BlackBerry/i);
          },
          iOS: function () {
            return navigator.userAgent.match(/iPhone|iPad|iPod/i);
          },
          Opera: function () {
            return navigator.userAgent.match(/Opera Mini/i);
          },
          Windows: function () {
            return navigator.userAgent.match(/IEMobile/i);
          },
          any: function () {
            return (
              isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows()
            );
          },
        };

        jQuery.fn.center = function () {
          this.css('position', 'fixed');
          this.css('top', '50px');
          this.css('left', Math.max(0, ($(window).width() - $(this).outerWidth()) / 2 + $(window).scrollLeft()) + 'px');
          return this;
        };
      </script>
      <script>
        $(document).ready(function () {
          if (sndLevel != 'Z' && sndLevel != 'X' && sndLevel != 'T' && sndLevel != 'S' && sndLevel != 'P')
            $('#content_1').addClass('no-child');
          onReady();
          $('#in_sch')
            .on('keydown', function (event) {
              if (
                event.keyCode === $.ui.keyCode.TAB &&
                $(this).data('autocomplete') &&
                $(this).data('autocomplete').menu.active
              ) {
                event.preventDefault();
              }
            })
            .autocomplete({
              minLength: 2,
              source: function (request, response) {
                $.getJSON('/search/autocomplete?search=' + encodeURI($('#in_sch').val()), response);
              },
              focus: function () {
                return false;
              },
            });
        });

        //마우스 오버 이벤트 등록
        var hoverTimer;
        var secDivHandlerIn = function () {
          var that = $(this);
          var thatSeq = that.attr('seq');
          if (thatSeq != $('#comment_content_seq').val()) {
            hoverTimer = setTimeout(function () {
              onSection(thatSeq);
              $('#comment_content_seq').val(thatSeq);
            }, 1200);
          }
        };
        var secDivHandlerOut = function () {
          if (hoverTimer) {
            clearTimeout(hoverTimer);
            hoverTimer = null;
          }
        };

        //댓글 입력시 마우스 호버 이벤트 설정 해제
        var comment_content_on = false;
        var comment_modify_content_on = false;
        var commentHandlerIn = function () {
          if (isMobile.any()) {
            $(window).unbind('scroll.moon');
            removeScrollspy();
          } else {
            comment_content_on = true;
            $('.sec_div').unbind('mouseenter mouseleave');
          }
        };
        var commentHandlerOut = function () {
          if (isMobile.any()) {
            onSection($('#comment_content_seq').val());
            scrollBinderMoon(100);
          } else {
            comment_content_on = false;
            $('.sec_div').hover(secDivHandlerIn, secDivHandlerOut);
          }
        };
        var commentModifyHandlerIn = function () {
          if (isMobile.any()) {
            $(window).unbind('scroll.moon');
            removeScrollspy();
          } else {
            comment_modify_content_on = true;
            $('.sec_div').unbind('mouseenter mouseleave');
          }
        };
        var commentModifyHandlerOut = function () {
          if (isMobile.any()) {
            onSection($('#comment_content_seq').val());
            scrollBinderMoon(100);
          } else {
            comment_modify_content_on = false;
            $('.sec_div').hover(secDivHandlerIn, secDivHandlerOut);
          }
        };

        //window scroll 이동시 댓글 입력창 포커스 해제
        var bodyScrollHandler = function () {
          if (comment_content_on) {
            if (isMobile.any()) {
              $('#comment_content').blur();
            }
          }
          if (comment_modify_content_on) {
            if (isMobile.any()) {
              $('#comment_modify_content').blur();
            }
          }
        };

        var onReady = function () {
          // ready variable
          var hide_set = [];

          // util
          var isContains = function (value, array) {
            for (var i = 0; i < array.length; i++) {
              if (array[i] == value) return true;
            }
            return false;
          };

          var indexOfArray = function (value, array) {
            for (var i = 0; i < array.length; i++) {
              if (array[i] == value) return i;
            }
            return -1;
          };

          var hasHiddenParent = function (array) {
            for (var i = 0; i < array.length; i++) {
              if ($('div[seq=' + array[i] + ']').hasClass('hide')) return true;
            }
            return false;
          };

          $.fn.serializeObject = function () {
            var o = {};
            var a = this.serializeArray();
            $.each(a, function () {
              if (o[this.name]) {
                if (!o[this.name].push) {
                  o[this.name] = [o[this.name]];
                }
                o[this.name].push(this.value || '');
              } else {
                o[this.name] = this.value || '';
              }
            });
            return o;
          };

          //--annotation 처리
          $.get(contextPath + '/books/' + book_id + '/volume/' + volume_id + '/annotations', function (data) {
            var $annLayer = $('#annotation_layer');
            $.each(data, function (k, v) {
              var ann_div = v['comment_sort'] == 1 ? volume_frequently : volume_sympathetic;
              var desc_text = '';
              $.each(v['sub_comment_content'], function (sk, sv) {
                desc_text = desc_text + '<p  class="desc">' + sv['desc'];
                if (sv['source']) desc_text = desc_text + ' ※ ' + sv['source'];
                desc_text = desc_text + '</p>';
              });
              var desc_node =
                '<div id="ann_desc_' +
                v['comment_seq'] +
                '" class="standalone layer_area layer_exp ann_desc hide">' +
                '<span></span>' +
                '<p class="title">' +
                ann_div +
                '</p>';
              if (v['comment_pronounce']) {
                desc_node += '<p>';
                desc_node += '(' + v['comment_pronounce'] + ')';
                desc_node += '</p>';
              }
              desc_node += desc_text + '</div>';
              $annLayer.append(desc_node);
            });

            bindAnn($(document));
            $('#st_fre').change(function (e) {
              $('.txt_exp01').unbind('click');
              if ($(this).is(':checked')) {
                $('.txt_exp01').removeClass('unchecked');
                $('.txt_exp01').addClass('colored');
                $('.txt_exp01').click(function (e) {
                  e.preventDefault();
                  toggleAnnDesc($(this));
                });
              } else {
                $('.txt_exp01').removeClass('colored');
                $('.txt_exp01').addClass('unchecked');
              }
              changeSessionVolumeSettings();
            });
            $('#st_sym').change(function (e) {
              $('.txt_exp02').unbind('click');
              if ($(this).is(':checked')) {
                $('.txt_exp02').addClass('colored');
                $('.txt_exp02').removeClass('unchecked');
                $('.txt_exp02').click(function (e) {
                  e.preventDefault();
                  toggleAnnDesc($(this));
                });
              } else {
                $('.txt_exp02').removeClass('colored');
                $('.txt_exp02').addClass('unchecked');
              }
              changeSessionVolumeSettings();
            });
          });
          //annotation 처리--

          //--언어별 보기/숨기기
          var checkLanguageSetting = function () {
            var checked_number = $("input[class='st_lang_setting']:checkbox:checked").length;
            if (checked_number > 0) {
              return true;
            } else {
              return false;
            }
          };

          $('#st_or').change(function (e) {
            if (checkLanguageSetting()) {
              if ($(this).is(':checked')) {
                $('.or').removeClass('hide');
              } else {
                $('.or').addClass('hide');
              }
              var curr_seq = $('#comment_content_seq').val();
              changeSessionVolumeSettings();
              scrollToSec($('#content_' + curr_seq));
            } else {
              $('#st_or').prop('checked', true);
              alert(volume_setting_lang_message);
            }
          });

          $.each(volumeLangCodeList, function (key) {
            $('#st_' + volumeLangCodeList[key].lowerLanguageCode).change(function (e) {
              if (checkLanguageSetting()) {
                if ($(this).is(':checked')) {
                  $('.' + volumeLangCodeList[key].lowerLanguageCode).removeClass('hide');
                } else {
                  $('.' + volumeLangCodeList[key].lowerLanguageCode).addClass('hide');
                }
                var curr_seq = $('#comment_content_seq').val();
                changeSessionVolumeSettings();
                scrollToSec($('#content_' + curr_seq));
              } else {
                $('#st_' + volumeLangCodeList[key].lowerLanguageCode).prop('checked', true);
                alert(volume_setting_lang_message);
              }
            });
          });
          //--

          //--공유 언어별 보기/숨기기
          var checkShareLanguageSetting = function () {
            var checked_number = $("input[class='pub_lang_setting']:checkbox:checked").length;
            if (checked_number > 0) {
              return true;
            } else {
              return false;
            }
          };

          $('#pub_ori').change(function (e) {
            if (checkShareLanguageSetting()) {
              setIframeShareText();
            } else {
              $('#pub_ori').prop('checked', true);
              alert(volume_setting_lang_message);
            }
          });

          $.each(volumeLangCodeList, function (key) {
            $('#pub_' + volumeLangCodeList[key].lowerLanguageCode).change(function (e) {
              if (checkShareLanguageSetting()) {
                setIframeShareText();
              } else {
                $('#pub_' + volumeLangCodeList[key].lowerLanguageCode).prop('checked', true);
                alert(volume_setting_lang_message);
              }
            });
          });
          //--공유 언어별 보기/숨기기

          $(document).bind('mousedown keydown', function (e) {
            $('.ann_desc').each(function () {
              if (!$(this).hasClass('hide')) $(this).addClass('hide');
            });
            if (
              $('#table_contents').is(':visible') &&
              $(e.target).parents('#table_contents').attr('id') != 'table_contents' &&
              !$(e.target).parents().hasClass('table_area') &&
              !$(e.target).hasClass('view_book')
            ) {
              $('#table_contents').hide();
            }
            if (
              $('#settings').is(':visible') &&
              $(e.target).parents('#settings').attr('id') != 'settings' &&
              !$(e.target).parents().hasClass('view_setting')
            ) {
              $('#settings').hide();
            }
            if (
              $('#popup_six_button').is(':visible') &&
              $(e.target).parents('#popup_six_button').attr('id') != 'popup_six_button'
            ) {
              $('#popup_six_button').addClass('hide');
              $('#popup_six_button a').unbind('click');
            }
          });

          $(document).bind('mouseup', function (e) {
            global_mouse_down = false;
          });
          $(document).bind('mousedown', function (e) {
            global_mouse_down = true;
          });
          $(document).bind('keydown', function (e) {
            switch (e.which) {
              //end
              case 35:
                if (content_array[content_array.length - 1]) {
                  onSection(content_array[content_array.length - 1]);
                }
                break;
              //home
              case 36:
                if (content_array[0]) {
                  onSection(content_array[0]);
                }
                break;
            }
          });

          //-- 텍스트 드래그 이벤트 처리
          var addUserCommentBinder = function (e) {
            e.preventDefault();
            var unbindClicks = e.data['unbindClicks'];
            var selectedText = e.data['selectedText'];
            if (isMobile.any()) {
              if (!$('#info_open').hasClass('hide')) {
                $('#info_open').addClass('hide');
                $('#info_close').removeClass('hide');
              }
              $(window).unbind('scroll.moon');
              removeScrollspy();
            }

            if ($('#user_ctrl').is(':hidden')) {
              $('#user_ctrl').show();
            }
            if ($('#comment_open').hasClass('hide')) {
              toggleOpenClose('comment');
            }
            $('#popup_six_button').addClass('hide');
            if (selectedText) {
              $('#comment_content').val('"' + selectedText + '"\n');
            }
            $('#comment_content').focus();
            unbindClicks();
          };

          var secDivTouchHandler = function (ev) {
            ev.stopPropagation();
            var unbindClicks = function () {
              $('#addUserComment').unbind('click');
              $('#addQuote').unbind('click');
              $('#addShare').unbind('click');
            };
            unbindClicks();
            var curr_content_seq = $(this).attr('seq');
            //var selectedText = userSelection.getSelectedText();
            quote_curr_seq = curr_content_seq;
            iframe_curr_seq = curr_content_seq;
            onSection(curr_content_seq);
            $('#comment_content_seq').val(curr_content_seq);

            //console.log(e.originalEvent.touches);
            $('#popup_six_button').removeClass('hide');
            $('#popup_six_button').offset({
              left: ev.gesture.pointers[0].pageX - 123,
              top: ev.gesture.pointers[0].pageY + 20,
            });

            // 댓글
            if (!$._data($('#addUserComment')[0], 'events')) {
              $('#addUserComment').click({ unbindClicks: unbindClicks }, addUserCommentBinder);
            }

            // 인용표기
            if (!$._data($('#addQuote')[0], 'events')) {
              $('#addQuote').click(function (e) {
                e.preventDefault();
                var action = '/books/' + book_id + '/volume/' + volume_id + '/content/' + curr_content_seq;
                $.get(action, function (content) {
                  if (content && content['up_path_nm']) {
                    $('#quote_original > #quote_nav').text(content['up_path_nm']);
                  }
                });
                if (book_nm_chi) {
                  $('#quote_original > #quote_book_nm').text('《' + book_nm_chi + '》 ');
                }
                $('#atype').prop('checked', true);
                clickQuoteType($('#atype')[0]);
                $('#popup_six_button').addClass('hide');
                $('#quote_layer').removeClass('hide');
                $('#quote_layer').offset({
                  left: e.pageX - 150,
                  top: e.pageY - 100,
                });
                $('#quote_layer').draggable({
                  cancel: '.exception-el',
                });
                var clipboard = new Clipboard('.btn_clipboard', {
                  text: function (trigger) {
                    return $.trim($('#quote_text').text());
                  },
                });
                clipboard.on('success', function (e) {
                  e.clearSelection();
                  $('#quote_layer').addClass('hide');
                });
                $('#close_quote_layer').click(function (e) {
                  e.preventDefault();
                  if (!$('#quote_layer').hasClass('hide')) $('#quote_layer').addClass('hide');
                });
                unbindClicks();
              });
            }
            if (!$._data($('#addShare')[0], 'events')) {
              //공유
              $('#addShare').click(function (e) {
                e.preventDefault();
                $('#popup_six_button').addClass('hide');
                $('#share_layer').removeClass('hide');
                $('#share_layer').offset({
                  left: e.pageX - 150,
                  top: e.pageY - 200,
                });
                $('#share_layer').draggable({
                  cancel: '.exception-el',
                });
                setIframeShareText();
                var action =
                  rtnDomainName(location.href) +
                  '/books/' +
                  book_id +
                  '/volume/' +
                  volume_id +
                  '/#content_' +
                  curr_content_seq;
                $('#share_references').text(action);
                var clipboard_url = new Clipboard('.btn_clipboard_url', {
                  text: function (trigger) {
                    return $.trim($('#share_text').text());
                  },
                });
                clipboard_url.on('success', function (e) {
                  e.clearSelection();
                  $('#share_layer').addClass('hide');
                });
                var clipboard_iframe = new Clipboard('.btn_clipboard_iframe', {
                  text: function (trigger) {
                    return $.trim($('#iframeText').html());
                  },
                });
                clipboard_iframe.on('success', function (e) {
                  e.clearSelection();
                  $('#share_layer').addClass('hide');
                });
                $('#btn_iframe_generate').click(function (e) {
                  e.preventDefault();
                  setIframeShareText();
                });
                $('#close_share_layer').click(function (e) {
                  e.preventDefault();
                  if (!$('#share_layer').hasClass('hide')) $('#share_layer').addClass('hide');
                });
                unbindClicks();
              });
            }
          };

          if (isMobile.Android()) {
            $('.sec_div').hammer().on('panright panleft', secDivTouchHandler);
          }

          var secDivMouseupHandler = function (e) {
            var unbindClicks = function () {
              $('#addUserComment').unbind('click');
              $('#addQuote').unbind('click');
              $('#addShare').unbind('click');
            };
            unbindClicks();
            var userSelection = getUserSelection(e);
            if (userSelection.getSI() < 0) {
              clearTextSelection();
              return false;
            }
            var curr_content_seq = $(this).attr('seq');
            var selectedText = userSelection.getSelectedText();
            quote_curr_seq = curr_content_seq;
            iframe_curr_seq = curr_content_seq;
            onSection(curr_content_seq);
            $('#comment_content_seq').val(curr_content_seq);
            if (selectedText && selectedText != '') {
              popSixButton(e, selectedText, $(this));
              // 댓글
              $('#addUserComment').click(
                { unbindClicks: unbindClicks, selectedText: selectedText },
                addUserCommentBinder
              );

              // 인용표기
              $('#addQuote').click(function (e) {
                e.preventDefault();
                var action = '/books/' + book_id + '/volume/' + volume_id + '/content/' + curr_content_seq;
                $.get(action, function (content) {
                  if (content) {
                    $('#quote_original > #quote_nav').text(content['up_path_nm']);
                  }
                });

                $('#quote_original > #quote_book_nm').text('《' + book_nm_chi + '》 ');
                $('#quote_original > #quote_sentence').text(' "' + selectedText + '" ');

                $('#atype').prop('checked', true);

                clickQuoteType($('#atype')[0]);

                $('#popup_six_button').addClass('hide');
                $('#quote_layer').removeClass('hide');
                $('#quote_layer').offset({
                  left: e.pageX - 150,
                  top: e.pageY - 100,
                });
                $('#quote_layer').draggable({
                  cancel: '.exception-el',
                });
                var clipboard = new Clipboard('.btn_clipboard', {
                  text: function (trigger) {
                    return $.trim($('#quote_text').text());
                  },
                });

                clipboard.on('success', function (e) {
                  e.clearSelection();
                  $('#quote_layer').addClass('hide');
                });
                $('#close_quote_layer').click(function (e) {
                  e.preventDefault();
                  if (!$('#quote_layer').hasClass('hide')) $('#quote_layer').addClass('hide');
                });
                unbindClicks();
              });

              //공유
              $('#addShare').click(function (e) {
                e.preventDefault();
                $('#popup_six_button').addClass('hide');
                $('#share_layer').removeClass('hide');
                $('#share_layer').offset({
                  left: e.pageX - 150,
                  top: e.pageY - 200,
                });
                $('#share_layer').draggable({
                  cancel: '.exception-el',
                });
                setIframeShareText();

                var action =
                  rtnDomainName(location.href) +
                  '/books/' +
                  book_id +
                  '/volume/' +
                  volume_id +
                  '/#content_' +
                  curr_content_seq;
                $('#share_references').text(action);

                var clipboard_url = new Clipboard('.btn_clipboard_url', {
                  text: function (trigger) {
                    return $.trim($('#share_text').text());
                  },
                });

                clipboard_url.on('success', function (e) {
                  e.clearSelection();
                  $('#share_layer').addClass('hide');
                });

                var clipboard_iframe = new Clipboard('.btn_clipboard_iframe', {
                  text: function (trigger) {
                    return $.trim($('#iframeText').html());
                  },
                });

                clipboard_iframe.on('success', function (e) {
                  e.clearSelection();
                  $('#share_layer').addClass('hide');
                });

                $('#btn_iframe_generate').click(function (e) {
                  e.preventDefault();
                  setIframeShareText();
                });

                $('#close_share_layer').click(function (e) {
                  e.preventDefault();
                  if (!$('#share_layer').hasClass('hide')) $('#share_layer').addClass('hide');
                });
                unbindClicks();
              });
            } else {
              $('#popup_six_button').addClass('hide');
            }
          };

          $('.sec_div').bind('mouseup', secDivMouseupHandler);

          //--
          //마우스 오버 이벤트 등록
          $('.sec_div').hover(secDivHandlerIn, secDivHandlerOut);
          //댓글 입력 이벤트
          $('#comment_content').focusin(commentHandlerIn);
          $('#comment_content').focusout(commentHandlerOut);

          $(window).on('scroll', bodyScrollHandler);

          //-- 목차 접기/펴기
          var partialLoad = function ($parent) {
            var parentSeq = $parent.attr('seq');
            var $prev_div = $parent;
            var url =
              '/books/' + book_id + '/volume/' + volume_id + '/content?' + $.param({ up_content_seq: parentSeq });
            $.ajax({
              type: 'GET',
              url: url,
              async: true,
              success: function (contents) {
                if (!contents || contents.length < 1) {
                  return;
                } else {
                  $parent.addClass('loaded');
                }

                for (var i = 0; i < contents.length; i++) {
                  var content = contents[i];
                  if (parentSeq == 1 && (content['content_level'] == 'B' || content['content_level'] == 'O')) {
                    continue;
                  }
                  var $curr_div = loadContent($prev_div, content);
                  if ($curr_div.hasClass('title_section')) {
                    $curr_div.click(titleClickEventListener);
                  }
                  bindAnn($curr_div);
                  if (isMobile.Android()) {
                    $('.sec_div').hammer().on('panright panleft', secDivTouchHandler);
                  }
                  $curr_div.bind('mouseup', secDivMouseupHandler);
                  $curr_div.hover(secDivHandlerIn, secDivHandlerOut);
                  $prev_div = $curr_div;
                }
                //refreshScrollspy();
                curr_volume_settings_apply();
              },
              error: function (msg) {},
              complete: function (msg) {},
            });
          };

          var hideChildren = function (clicked_section, isFirst) {
            $('.sec_div[up_content_seq=' + clicked_section.attr('seq') + ']').each(function () {
              var curr_section = $(this);
              if (clicked_section.attr('seq') == 1 && curr_section.hasClass('sec_h3')) return;

              if (curr_section.hasClass('bottomCollapseDirectionOpen')) {
                curr_section.removeClass('bottomCollapseDirectionOpen');
                curr_section.addClass('bottomCollapseDirectionClose');
              }

              if (isFirst) {
                curr_section.toggleClass('hide');
              } else {
                if (!curr_section.hasClass('hide')) curr_section.addClass('hide');
              }
              $('.sec_div[up_content_seq=' + curr_section.attr('seq') + ']').each(function () {
                hideChildren(curr_section);
              });
            });
          };

          function loadingView($parent) {
            $parent.animate({ backgroundColor: '#EFEFEF', duration: 0 });
            if ($parent.hasClass('bottomCollapseDirectionClose')) {
              $parent.removeClass('bottomCollapseDirectionClose');
              $parent.addClass('bottomCollapseDirectionOpen');
            } else if ($parent.hasClass('bottomCollapseDirectionOpen')) {
              $parent.removeClass('bottomCollapseDirectionOpen');
              $parent.addClass('bottomCollapseDirectionClose');
            }
          }

          function loadingDestroy($parent) {
            $parent.animate({ backgroundColor: '#FFFFFF', duration: 100 });
          }

          var titleClickEventListener = function (e) {
            e.preventDefault();
            if ($(e.target).hasClass('ann')) return; /* 주석 보기 span 일경우 이벤트 처리 제외 */
            var clicked_section = $(this);
            if (!clicked_section.hasClass('loaded')) {
              if (!$(this).hasClass('no-child')) {
                loadingView($(this));
              }
              partialLoad(clicked_section);
              loadingDestroy($(this));
            } else {
              if (!$(this).hasClass('no-child')) {
                loadingView($(this));
              }
              hideChildren(clicked_section, true);
              //refreshScrollspy();
              curr_volume_settings_apply();
              loadingDestroy($(this));
            }
          };

          $('.title_section').each(function () {
            $(this).click(titleClickEventListener);
          });

          $('#toggle_b_level').click(function (e) {
            e.preventDefault();
            $('.title_section').each(function () {
              hideChildren($(this));
            });
            $('html, body').animate(
              {
                scrollTop: 0,
              },
              250,
              function () {}
            );
          });

          // 폰트 사이즈 조절
          $('#mani-font-larger').click(function (e) {
            e.preventDefault();
            var curr_seq = $('#comment_content_seq').val();
            var curr_font_size = $('.section_desc').css('font-size');
            var currentFontSizeNum = parseFloat(curr_font_size, 10);
            var newFontSize = currentFontSizeNum + 1;
            setFontSize(newFontSize);
            changeSessionVolumeSettings();
            scrollToSec($('#content_' + curr_seq));
          });
          $('#mani-font-smaller').click(function (e) {
            e.preventDefault();
            var curr_seq = $('#comment_content_seq').val();
            var curr_font_size = $('.section_desc').css('font-size');
            var currentFontSizeNum = parseFloat(curr_font_size, 10);
            var newFontSize = currentFontSizeNum - 1;
            setFontSize(newFontSize);
            changeSessionVolumeSettings();
            scrollToSec($('#content_' + curr_seq));
          });

          $('#mani-font-original').click(function (e) {
            e.preventDefault();
            var curr_seq = $('#comment_content_seq').val();
            setFontSize(16);
            changeSessionVolumeSettings();
            scrollToSec($('#content_' + curr_seq));
          });

          //sessionVolumeSettings 적용
          if (sessionVolumeSettings != null) {
            //폰트
            setFontSize(sessionVolumeSettings.font_size);
            //언어설정
            if (sessionVolumeSettings.original == 0) {
              $('.or').addClass('hide');
            } else {
              $('.or').removeClass('hide');
            }

            $.each(volumeLangCodeList, function (key) {
              if (sessionVolumeSettings[volumeLangCodeList[key].bookCode.toLowerCase()] == 0) {
                $('.' + volumeLangCodeList[key].lowerLanguageCode).addClass('hide');
              } else {
                $('.' + volumeLangCodeList[key].lowerLanguageCode).removeClass('hide');
              }
            });
            //----
            //교감기 역자주
            if (sessionVolumeSettings.sympathetic_groups == 0) {
              $('.txt_exp02').removeClass('colored');
              $('.txt_exp02').addClass('unchecked');
            }
            if (sessionVolumeSettings.frequently_station == 0) {
              $('.txt_exp01').removeClass('colored');
              $('.txt_exp01').addClass('unchecked');
            }
          }

          if ($("input[class='st_lang_setting']:checkbox:checked").length < 1) {
            $('#st_or').prop('checked', true);
            $('.or').removeClass('hide');
          }

          var traversePath = function (arr_up_path, hash) {
            if (!arr_up_path || arr_up_path < 1 /* || arr_up_path[0] == 1 */) {
              scrollToSec($(hash));
              $('#content_' + $(hash).attr('seq')).css('background-color', '#F0F5FD');
              //setTimeout(scrollToSec, 1000, $(hash));
              return;
            }
            var parentSeq = arr_up_path[0];
            var $parent = $('.sec_div[seq=' + parentSeq + ']');
            var $prev_div = $parent;

            var url =
              '/books/' + book_id + '/volume/' + volume_id + '/content?' + $.param({ up_content_seq: parentSeq });
            $.get(url, function (contents) {
              if (!contents || contents.length < 1) {
                return;
              } else {
                $parent.addClass('loaded');
              }

              for (var i = 0; i < contents.length; i++) {
                var content = contents[i];
                if (parentSeq == 1 && (content['content_level'] == 'B' || content['content_level'] == 'O')) continue;
                var $curr_div = loadContent($prev_div, content);
                if ($curr_div.hasClass('title_section')) {
                  $curr_div.click(titleClickEventListener);
                }
                bindAnn($curr_div);
                if (isMobile.Android()) {
                  $('.sec_div').hammer().on('panright panleft', secDivTouchHandler);
                }
                $curr_div.bind('mouseup', secDivMouseupHandler);
                $curr_div.hover(secDivHandlerIn, secDivHandlerOut);
                $prev_div = $curr_div;
              } //for
              curr_volume_settings_apply();
              loadingView($parent);
              loadingDestroy($parent);
              traversePath(arr_up_path.slice(1), hash);
            });
          };

          var firstSection = function (hash) {
            if (hash && ('' + hash).indexOf('?') > 0) {
              hash = hash.substring(0, hash.indexOf('?'));
            }
            if (hash) {
              hash = '' + hash;
              var seq = hash.replace('#content_', '');
              $.get('/books/' + book_id + '/volume/' + volume_id + '/content/' + seq, function (content) {
                if (content) {
                  if (content['up_path'] == 1) {
                    traversePath([1], hash);
                  } else {
                    var arr_up_path = content['up_path'].split(',');
                    traversePath(arr_up_path /* .slice(1) */, hash);
                  }
                }
              });
            } else {
              refreshScrollspy();
              onSection(1);
            }
          };

          firstSection(window.location.hash);
          $('.sec_div').each(function () {
            content_array.push(Number($(this).attr('seq')));
          });
        };
        //-- onReady

        //-- 주석 처리
        function bindAnn($parent) {
          $parent.find('.ann').each(function () {
            var ann_span = $(this);
            addAnnotation(ann_span);
          });
        }

        function addAnnotation(ann_span) {
          var seq = ann_span.attr('seq');
          /* 주석 끝에 !마크 부착 */
          if (!$('.ann[seq=' + seq + ']').hasClass('last')) {
            $('.ann[seq=' + seq + ']')
              .last()
              .addClass('last');
            if (
              $('.ann[seq=' + seq + ']')
                .last()
                .is(':empty')
            ) {
              var parentSpan = $('.ann[seq=' + seq + ']')
                .last()
                .parent('span');
              var parentInnerHtml = parentSpan.html();
              var thisAnn = $('<div>')
                .append(
                  $('.ann[seq=' + seq + ']')
                    .last()
                    .clone()
                )
                .html();
              if (
                parentInnerHtml != null &&
                parentSpan.hasClass('sec_title') &&
                parentInnerHtml.indexOf(thisAnn) === 0
              ) {
                $('.ann[seq=' + seq + ']')
                  .last()
                  .html('&nbsp;&nbsp;');
              }
              if (parentInnerHtml != null && parentInnerHtml == thisAnn) {
                parentSpan.children().remove();
                ann_span = $(thisAnn);
                parentSpan.after(ann_span);
              }
            }
          }
          ann_span.addClass('colored');
          //TODO : tooltip
          if ($('#ann_desc_' + seq).html()) {
            ann_span.tooltipster({
              content: $($('#ann_desc_' + seq).html()),
              trigger: 'click',
              position: 'bottom',
              multiple: true,
            });
          }
        }

        function toggleAnnDesc($ann_span) {
          var ann_seq = $ann_span.attr('seq');
          $('#ann_desc_' + ann_seq).removeClass('hide');
          $('#ann_desc_' + ann_seq).offset({
            left: $ann_span.offset().left - 130 + $ann_span.innerWidth() / 2,
            top: $ann_span.offset().top + 30,
          });
        }

        //--

        //-- 스크롤 조작
        function moveTo(that) {
          var contentSeq = $(that).attr('href');
          if ($(contentSeq) && $(contentSeq).hasClass('sec_div')) {
            scrollToSec($(contentSeq));
          } else {
            firstSection(contentSeq);
          }
        }

        function refreshScrollspy() {
          removeScrollspy();
          $('.sec_div').each(function () {
            addToScrollspy(this);
          });
        }

        var cnt = 0;
        function scrollToSec($sec) {
          $('html, body').animate(
            {
              scrollTop: $sec.offset().top - 150,
            },
            250,
            function () {
              if ($sec.attr('seq')) {
                onSection($sec.attr('seq'));
                //setTimeout(refreshScrollspy, 250);
              }
            }
          );
        }

        function refreshContentFragment(content_seq, lang_code, html) {
          var $content_sec = $('#content_' + content_seq + ' .' + lang_code);
          $content_sec.html(html);
          $content_sec.find('.ann').each(function () {
            var ann_span = $(this);
            addAnnotation(ann_span);
            clearTextSelection();
          });
        }

        function printComments(content_seq, comment_type) {
          $('.sec_div').removeClass('on');
          $('#content_' + content_seq).addClass('on');
          if (content_seq == '' || !content_seq) {
            content_seq = $('#comment_content_seq').val();
          }
          var action = '/books/' + book_id + '/volume/' + volume_id + '/content/' + content_seq + '/comment';
          $('.comment_category > ul > li').removeClass('on');

          if (comment_type && comment_type != '' && comment_type != 'all') {
            action = action + '?comment_type=' + comment_type;
            $('#comments_' + comment_type).addClass('on');
          } else {
            $('#comments_all').addClass('on');
          }

          $.ajax(action, {
            async: true,
            method: 'GET',
            success: function (comments) {
              $('#comment_list > ul').children().remove();
              if (comments && comments.length > 0) {
                var typeMap = { memo: '메모', error: '오류신고', trans: '번역제안' };
                $.each(comments, function (k, v) {
                  var $li = '<li>' + '<span class="user">';
                  if (v['profile_file_id'] && v['profile_file_id'] != '') {
                    $li +=
                      '<img src="/file/imageLoad.do?file_id=' +
                      v['profile_file_id'] +
                      '" width="60" height="60" alt="" onERROR="this.src=\'/img/common/comment_user.gif\'"/>';
                  } else if (v['user_profile_image_url'] && v['user_profile_image_url'] != '') {
                    $li += '<img src="' + v['user_profile_image_url'] + '" width="60" height="60" alt="" />';
                  } else {
                    $li += '<img src="/img/common/comment_user.gif" width="60" height="60" alt="" />';
                  }
                  $li += '</span>' + '<span class="id">' + v['nick_name'] + '</span>';
                  if (v['is_mine'] && v['is_mine'] == 'Y') {
                    $li +=
                      '<span class="category"><a href="#modify_comment" onclick="toggleCommnetModify(\'' +
                      v['comment_id'] +
                      '\', this); return false;" ><i class="fa fa-pencil"></i> ' +
                      common_modify +
                      '</a></span>';
                  }
                  if ((v['is_mine'] && v['is_mine'] == 'Y') || admin) {
                    $li +=
                      '<span class="category"><a href="#delete_comment" onclick="deleteCommnet(\'' +
                      v['comment_id'] +
                      '\'); return false;"><i class="fa fa-times"></i> ' +
                      common_delete +
                      '</a></span>';
                  }
                  $li +=
                    '<div class="txt">' +
                    v['comment_content_html'].replace(/\n/gi, '<br>') +
                    '</div>' +
                    '</li>' +
                    '<li id="comment_modify_' +
                    v['comment_id'] +
                    '" class="comment_modify hide">' +
                    '<form id="comment_modify_form_' +
                    v['comment_id'] +
                    '" name="comment_modify_form">' +
                    '<textarea id="comment_modify_content" name="comment_content" style="width:100%; height:130px;" onfocus="commentLoginConfirm(); commentModifyHandlerIn();" onBlur="commentModifyHandlerOut();" title="' +
                    comment_input +
                    '"></textarea>' +
                    '<textarea name="comment_content_val" style="display:none;" title="' +
                    comment_content +
                    '">' +
                    v['comment_content'] +
                    '</textarea>' +
                    '<input name="book_id" type="hidden" value="' +
                    v['book_id'] +
                    '">' +
                    '<input name="volume_id" type="hidden" value="' +
                    v['volume_id'] +
                    '">' +
                    '<input name="content_seq" value="' +
                    v['content_seq'] +
                    '" type="hidden">' +
                    '<input name="comment_id" value="' +
                    v['comment_id'] +
                    '" type="hidden">' +
                    '<input name="up_comment_id" value="' +
                    v['up_comment_id'] +
                    '" type="hidden">' +
                    '<input name="reply_level" value="' +
                    v['reply_level'] +
                    '" type="hidden">' +
                    '<div class="btn_center">' +
                    '<button class="btn_c btn_blue" id="comment_modify" onclick="modifyComment(\'' +
                    v['comment_id'] +
                    '\');" type="button"><span>' +
                    common_save +
                    '</span></button>&nbsp;' +
                    '<button class="btn_c btn_gray" id="comment_cancel" onclick="resetModifyComment();" type="button"><span>' +
                    common_cancel +
                    '</span></button>' +
                    '</div>' +
                    '</form>' +
                    '</li>';
                  $('#comment_list > ul').append($li);
                });
              } else {
                $('#comment_list > ul').children().remove();
                $('#comment_list > ul').append('<li class="no_data">' + comment_none_message + '</li>');
              }
            },
          });
        }

        function bindScrollSpyPrevSection(currentSectionIndex) {
          bindScrollSpy(
            currentSectionIndex,
            function (loopIndex) {
              return loopIndex >= 0;
            },
            function (loopIndex) {
              return loopIndex - 1;
            }
          );
        }
        function bindScrollSpyNextSection(currentSectionIndex) {
          bindScrollSpy(
            currentSectionIndex,
            function (loopIndex) {
              return loopIndex < content_array.length;
            },
            function (loopIndex) {
              return loopIndex + 1;
            }
          );
        }

        function bindScrollSpy(currentSectionIndex, loopCondition, afterLoop) {
          var loopIndex = currentSectionIndex;
          var bindedCnt = 0;
          for (; loopCondition(loopIndex); loopIndex = afterLoop(loopIndex)) {
            if ($('#content_' + content_array[loopIndex]).is(':visible')) {
              addToScrollspy($('#content_' + content_array[loopIndex]));
              if (bindedCnt++ > 5) {
                break;
              }
            }
          }
        }

        var printCommentHoverTimer;
        function printCommentHandlerIn(seq) {
          printCommentHoverTimer = setTimeout(function () {
            printComments(seq);
          }, 500);
        }
        function printCommentHandlerOut() {
          if (printCommentHoverTimer) {
            clearTimeout(printCommentHoverTimer);
            printCommentHoverTimer = null;
          }
        }

        function onSection(seq) {
          var currentSectionIndex = content_array.indexOf(Number(seq));
          if (currentSectionIndex != -1) {
            removeScrollspy();
            bindScrollSpyPrevSection(currentSectionIndex);
            bindScrollSpyNextSection(currentSectionIndex);
          }

          $('#current_sec_nav').html('');
          $('#current_sec_num').text('');
          var $element = $(".sec_div[seq='" + seq + "']");
          $('#comment_content_seq').val(seq);
          $('.sec_div').removeClass('on');
          $('#content_' + seq).addClass('on');
          printCommentHandlerOut();
          printCommentHandlerIn(seq);
          if ($element.attr('content_level') == 'A') {
            $('#current_sec_nav').html($element.find('.or .sec_title').text());
            return;
          }

          var nav = $element.attr('up_path_nm').split('>');
          var navLink = $element.attr('upath').split(',');
          if (nav != null) {
            for (var nav_index = 0; nav_index < nav.length; nav_index++) {
              var navHtml =
                '<a class="anchor-button" onclick="moveTo(this); return false;"' +
                ' href="#content_' +
                navLink[nav_index] +
                '" title="' +
                nav[nav_index] +
                '">' +
                nav[nav_index] +
                '</a>';
              if (nav_index == 0) {
                $('#current_sec_nav').html(navHtml);
              } else {
                var tmp_html = $('#current_sec_nav').html();
                $('#current_sec_nav').html(tmp_html + '&gt; ' + navHtml);
              }
            }
            if ($element.hasClass('title_section')) {
              if ($element.attr('up_content_seq') == 1) {
                $('#current_sec_nav').html(
                  $('#current_sec_nav').html() + ' &gt; ' + $element.find('.or .sec_title').text()
                );
              } else {
                $('#current_sec_nav').html($('#current_sec_nav').html() + ' &gt; ' + $element.find('.or').text());
              }
              //$("#current_sec_num").text($element.find(".sec_num").text());
              $('#current_sec_nav').append(
                ' <span id="current_sec_num" class="sec_num">' + $element.find('.sec_num').text() + '</span>'
              );
            } else {
              var up_index = $('#content_' + $element.attr('up_content_seq'))
                .find('.sec_num')
                .text();
              $('#current_sec_nav').append(' <span id="current_sec_num" class="sec_num">' + up_index + '</span>');
              //$("#current_sec_num").text(up_index); <span id="current_sec_num" class="sec_num"></span>
            }
          }
        }

        function addToScrollspy(that) {
          if ($(that).is(':hidden')) return;
          var position = $(that).position();
          $(that).scrollspy({
            min: position.top - 100,
            max: position.top - 100 + $(that).height(),
            onEnter: function (element, position) {
              var seq = $(element).attr('seq');
              onSection(seq);
            },
            onLeave: function (element, position) {},
          });
        }

        function removeScrollspy() {
          $(window).off('scroll.scrollspy');
          $(window).off('scrollspy');
        }
        //--

        function toggleOpenClose(sectionType) {
          var openId = sectionType + '_open';
          var closeId = sectionType + '_close';

          $('#' + openId).toggleClass('hide');
          $('#' + closeId).toggleClass('hide');

          if (!$('#' + openId).hasClass('hide')) $('#' + sectionType + '_btn_close').focus();
          if (!$('#' + closeId).hasClass('hide')) $('#' + sectionType + '_btn_open').focus();
        }

        //-- 댓글 버튼
        function addComment(up_comment_id) {
          if (!$.trim($('#comment_content').val())) {
            alert(comment_none_message);
            return false;
          }

          if (!loginContext) {
            if (confirm(login_message_use)) {
              location.href = '/user/signin';
            }
            return false;
          }
          var content_seq = $('#comment_content_seq').val();
          var token = $("input[name='_csrf']").val();
          if (up_comment_id) {
            $('#up_comment_id').val(up_comment_id);
            $('#reply_level').val(1);
          } else {
            $('#reply_level').val(0);
          }
          $.ajax({
            url: '/books/' + book_id + '/volume/' + volume_id + '/content/' + content_seq + '/comment',
            method: 'POST',
            data: $('#comment_apply_form').serializeObject(),
            beforeSend: function (xhr) {
              xhr.setRequestHeader('X-CSRF-TOKEN', token);
            },
            success: function (result) {
              resetComment();
              printComments(content_seq, selectCommentType());
            },
            error: function (error) {
              alert(comment_input_error_message);
            },
          });
        }

        function resetComment() {
          $('#comment_content').val('');
          $('#comment_content').focus();
        }

        function removeComments() {
          $('#comment_list > ul').children().remove();
          $('#comment_list > ul').append('<li class="no_data">' + comment_message_none + '</li>');
        }

        function deleteCommnet(comment_id) {
          if (!confirm(common_delete_question)) return false;
          var comment_modify_id = 'comment_modify_' + comment_id;
          var $form = $('#' + comment_modify_id + ' > form');
          if (!loginContext) {
            if (confirm(login_message_use)) {
              location.href = '/user/signin';
            }
            return false;
          }
          var content_seq = $form.children("input[name='content_seq']").val();
          var token = $("input[name='_csrf']").val();
          $.ajax({
            url: '/books/' + book_id + '/volume/' + volume_id + '/content/' + content_seq + '/comment/' + comment_id,
            method: 'DELETE',
            beforeSend: function (xhr) {
              xhr.setRequestHeader('X-CSRF-TOKEN', token);
            },
            success: function (result) {
              printComments(content_seq, selectCommentType());
            },
            error: function (error) {
              alert(comment_delete_error_message);
            },
          });
        }

        function selectCommentType() {
          var comment_type = null;
          $('.comment_type').each(function () {
            if ($(this).hasClass('on')) comment_type = $(this).attr('comment-type');
          });
          return comment_type;
        }

        function replyCommnet(comment_id) {}

        function modifyComment(comment_id) {
          var comment_modify_id = 'comment_modify_' + comment_id;
          var $form = $('#' + comment_modify_id + ' > form');
          if (!$.trim($form.children("textarea[name='comment_content']").val())) {
            alert(comment_none_message);
            return false;
          }

          if (!loginContext) {
            if (confirm(login_message_use)) {
              location.href = '/user/signin';
            }
            return false;
          }
          var content_seq = $form.children("input[name='content_seq']").val();
          var token = $("input[name='_csrf']").val();
          $.ajax({
            url: '/books/' + book_id + '/volume/' + volume_id + '/content/' + content_seq + '/comment/' + comment_id,
            method: 'POST',
            data: $form.serializeObject(),
            beforeSend: function (xhr) {
              xhr.setRequestHeader('X-CSRF-TOKEN', token);
            },
            success: function (result) {
              printComments(content_seq, selectCommentType());
            },
            error: function (error) {
              alert(comment_modify_error_message);
            },
          });
        }

        function resetModifyComment() {
          $('div.book_user div.section div.comment_list li span.category a.on').removeClass('on');
          $('.comment_modify').each(function () {
            if (!$(this).hasClass('hide')) $(this).addClass('hide');
          });
        }

        function toggleCommnetModify(comment_id, that) {
          var comment_modify_id = 'comment_modify_' + comment_id;
          $('#' + comment_modify_id).toggleClass('hide');
          if ($('#' + comment_modify_id).is(':visible')) {
            resetModifyComment();
            $(that).addClass('on');
            $('#' + comment_modify_id).removeClass('hide');
            var $txtarea = $('#' + comment_modify_id + " > form > textarea[name='comment_content']");
            $txtarea
              .focus()
              .val('')
              .val($('#' + comment_modify_id + " > form > textarea[name='comment_content_val']").val());
          } else {
            resetModifyComment();
          }
        }
        //--

        function popSixButton(event, selectedText, cell) {
          var curr_seq = cell.attr('seq');
          $('#popup_six_button').removeClass('hide');
          $('#popup_six_button').offset({ left: event.pageX - 123, top: event.pageY + 20 });
        }

        function getUserSelection(e) {
          var selection;

          if (window.getSelection == undefined) {
            var wgS = setInterval(function () {
              if (rangy.initialized) {
                window.getSelection = rangy.getSelection;
                clearTimeout(wgS);
              }
            }, 10);
          }

          if (window.getSelection) {
            selection = window.getSelection();
          } else if (document.selection) {
            selection = document.selection.createRange();
          }
          var $startNode = $(window.getSelection().anchorNode);
          if (!$startNode.hasClass('sec_node')) {
            $startNode = $startNode.parents('.sec_node');
          }
          var $endNode = $(window.getSelection().extentNode);
          if (!$endNode.hasClass('sec_node')) {
            $endNode = $startNode.parents('.sec_node');
          }
          var selected_text = selection.toString();
          var open_index = $startNode.text().indexOf(selected_text);
          var end_index = $startNode.text().indexOf(selected_text) + selected_text.length;
          if (end_index > $startNode.text().length) end_index = -1;
          return {
            getSI: function () {
              return open_index;
            },
            getEI: function () {
              return end_index;
            },
            getStartLang: function () {
              if ($startNode.hasClass('or')) return 'or';
              if ($startNode.hasClass('ak')) return 'ak';
              if ($startNode.hasClass('ko')) return 'ko';
              if ($startNode.hasClass('en')) return 'en';
            },
            getSelectedText: function () {
              return selected_text;
            },
          };
        }

        function clearTextSelection() {
          if (window.getSelection) {
            if (window.getSelection().empty) {
              window.getSelection().empty();
            } else if (window.getSelection().removeAllRanges) {
              window.getSelection().removeAllRanges();
            }
          } else if (document.selection) {
            document.selection.empty();
          }
        }

        function getSelectedText() {
          if (window.getSelection) {
            return window.getSelection().toString();
          } else if (document.selection) {
            return document.selection.createRange().text;
          }
          return '';
        }

        $('#copy_clipboard').click(function (e) {
          e.preventDefault();
          var trb = '' + location.href;
          var IE = document.all ? true : false;
          if (IE) {
            if (confirm(clipboard_copy_message)) window.clipboardData.setData('Text', trb);
          } else {
            prompt(clipboard_self_copy_message, trb);
          }
        });

        //-- ajax load
        function getTableElement(tableString) {
          if (!tableString && tableString != 0) {
            return '';
          }
          var table = '<table><caption>본문에 삽입된 표</caption>';
          var rows = tableString.split('{n}');
          $.each(rows, function (k1, v1) {
            var cols = v1.split('#');
            table += '<tr>';
            $.each(cols, function (k2, v2) {
              if (k2 == 0) return;
              if (k1 == 0) table += '<th scope="col">' + v2 + '</th>';
              else table += '<td>' + v2 + '</td>';
            });
            table += '</tr>';
          });
          table += '</table>';
          return table;
        }

        function getImageInfo(curr_book_id, curr_volume_id, curr_content_seq) {
          var imagesInfo;
          $.each(volumeImages, function (key) {
            if (
              volumeImages[key].book_id == curr_book_id &&
              volumeImages[key].volume_id == curr_volume_id &&
              volumeImages[key].content_seq == curr_content_seq &&
              volumeImages[key].lang_code == 'OR'
            ) {
              imagesInfo = volumeImages[key];
              return false;
            }
          });
          return imagesInfo;
        }

        function compareNumbers(a, b) {
          return a - b;
        }

        function pushToContentArray(seq) {
          if (content_array.indexOf(seq) == -1) {
            content_array.push(seq);
            content_array.sort(compareNumbers);
          }
        }

        function loadContent(prev_div, content) {
          var prescriptionClass = '';
          var curr_div = $('<div>', {
            id: 'content_' + content['content_seq'],
            upath: content['up_path'],
            up_content_seq: content['up_content_seq'],
            bottom_count: content['bottom_count'],
            class: 'sec_div' + prescriptionClass,
            seq: content['content_seq'],
            up_path_nm: content['up_path_nm'],
            content_level: content['content_level'],
            content_level_depth: content['content_level_depth'],
          });

          pushToContentArray(content['content_seq']);

          if (content['bottom_count'] > 0) {
            curr_div.addClass('bottomCollapseDirectionClose');
          }
          var lv = content['content_level'].charCodeAt(0) - 63;
          switch (lv) {
            case 4:
            case 5:
            case 6:
            case 7:
              curr_div.addClass('title_section').addClass('sec_h' + lv);
              var hTag = lv == 7 ? '<h6>' : '<h' + lv + '>';
              var hDiv = $('<div>', { class: 'h-div' });
              var numDiv = $('<div>', { class: 'num-div' });
              hDiv.append(
                $(hTag, {
                  class: 'chinese or sec_node',
                  html:
                    '<a href="javascript:;" role="button" title="' +
                    title_open_close +
                    '">&nbsp;' +
                    content['original'] +
                    '</a>',
                })
              );

              $.each(volumeLangCodeList, function (i) {
                var langCode = this;
                var hiddenClassString = langCode['lowerLanguageCode'] == 'ko' ? '' : ' hide';
                var classString = langCode['lowerLanguageCode'] + ' sec_node' + hiddenClassString;
                var htmlString =
                  '<a href="javascript:;" role="button" title="' +
                  title_open_close +
                  '">&nbsp;' +
                  content[langCode['dbLangDataLowerColumnName']] +
                  '</a>';
                hDiv.append(
                  $(hTag, {
                    class: classString,
                    html: htmlString,
                  })
                );
              });

              numDiv.append($('<span>', { class: 'sec_num', html: content['index_num'] }));

              if (content['content_level_depth'] == 'H') {
                numDiv.append($('<span>', { class: 'prescription color-h', html: common_prescription1 }));
              } else if (content['content_level_depth'] == 'K') {
                numDiv.append($('<span>', { class: 'prescription color-k', html: common_prescription2 }));
              } else if (content['content_level_depth'] == 'P') {
                numDiv.append($('<span>', { class: 'prescription color-f', html: common_prescription3 }));
              }

              curr_div.append(hDiv);
              curr_div.append(numDiv);
              break;
            case 17:
              /* PP */
              curr_div.addClass('sec_txt').addClass('sec_image');
              var imageInfo = getImageInfo(content['book_id'], content['volume_id'], content['content_seq']);
              var img_explain = content['original'];

              $.each(volumeLangCodeList, function (i) {
                var langCode = this;
                img_explain += content[langCode['dbLangDataLowerColumnName']];
              });

              if (img_explain) {
                img_explain = img_explain.replace(/(<([^>]+)>)/gi, '');
              }

              var content_image_id = 'content_image_' + content['content_seq'];

              var img_html = '';
              img_html += '<img';
              img_html += ' id="' + content_image_id + '" ';
              img_html += ' class="volume_img"';
              img_html += ' src="' + contextPath + '/file/image/' + imageInfo.attach_seq + '" ';
              img_html += ' onclick="clickImage(this);" alt="' + img_explain + '" title="' + img_explain + '" ';
              img_html += '>';

              var dl = $('<dl>')
                .append($('<dt>', { class: 'sec_num', html: getLastIndexNumber(content['index_num']) }))
                .append($('<dd>', { class: 'image sec_node', style: 'text-align:center;', html: img_html }));
              $.each(volumeImages, function (key) {
                if (
                  volumeImages[key].book_id == content['book_id'] &&
                  volumeImages[key].volume_id == content['volume_id'] &&
                  volumeImages[key].content_seq == content['content_seq'] &&
                  volumeImages[key].lang_code == 'OR'
                ) {
                  dl.append($('<dd>', { class: 'chinese or sec_node', html: volumeImages[key].description }));
                }
                $.each(volumeLangCodeList, function (i) {
                  var langCode = this;
                  var hiddenClassString = langCode['lowerLanguageCode'] == 'ko' ? '' : ' hide';
                  img_explain += content[langCode['dbLangDataLowerColumnName']];
                  if (
                    volumeImages[key].book_id == content['book_id'] &&
                    volumeImages[key].volume_id == content['volume_id'] &&
                    volumeImages[key].content_seq == content['content_seq'] &&
                    volumeImages[key].lang_code == langCode['languageCode']
                  ) {
                    dl.append(
                      $('<dd>', {
                        class: langCode['lowerLanguageCode'] + ' sec_node' + hiddenClassString,
                        html: volumeImages[key].description,
                      })
                    );
                  }
                });
              });
              curr_div.append(dl);
              break;
            case 21:
              /* TT */
              curr_div.addClass('sec_txt').addClass('sec_table');
              var dl = $('<dl>')
                .append($('<dt>', { class: 'sec_num', html: getLastIndexNumber(content['index_num']) }))
                .append($('<dd>', { class: 'chinese or sec_node', html: getTableElement(content['original']) }));

              $.each(volumeLangCodeList, function (i) {
                var langCode = this;
                var hiddenClassString = langCode['lowerLanguageCode'] == 'ko' ? '' : ' hide';
                dl.append(
                  $('<dd>', {
                    class: langCode['lowerLanguageCode'] + ' sec_node' + hiddenClassString,
                    html: getTableElement(content[langCode['dbLangDataLowerColumnName']]),
                  })
                );
              });
              curr_div.append(dl);
              break;
            default:
              curr_div.addClass('sec_txt');
              var dl = $('<dl>')
                .append($('<dt>', { class: 'sec_num', html: getLastIndexNumber(content['index_num']) }))
                .append($('<dd>', { class: 'chinese or sec_node', html: content['original'] }));

              $.each(volumeLangCodeList, function (i) {
                var langCode = this;
                var hiddenClassString = langCode['lowerLanguageCode'] == 'ko' ? '' : ' hide';
                dl.append(
                  $('<dd>', {
                    class: langCode['lowerLanguageCode'] + ' sec_node' + hiddenClassString,
                    html: content[langCode['dbLangDataLowerColumnName']],
                  })
                );
              });
              curr_div.append(dl);
              break;
          }
          if (lv != 17) {
            var inlineImages = curr_div.find('img.inline-image');
            if (inlineImages) {
              $.each(inlineImages, function () {
                var jqThis = $(this);
                var imageSeq = jqThis.attr('seq');
                var imageInfo = getInlineImage(content, imageSeq);
                jqThis.attr('src', '' + contextPath + '/file/image/' + imageInfo.attach_seq);
                //jqThis.attr("onclick", "clickImage(this);");
              });
            }
          }
          curr_div.append($('<div>', { class: 'clearfix' }));
          prev_div.after(curr_div);
          return curr_div;
        }

        function getInlineImage(content, imageSeq) {
          var imagesInfo;
          $.each(volumeImages, function (key) {
            var thisImg = this;
            if (
              thisImg['book_id'] == content['book_id'] &&
              thisImg['volume_id'] == content['volume_id'] &&
              thisImg['content_seq'] == content['content_seq'] &&
              thisImg['image_seq'] == imageSeq
            ) {
              imagesInfo = thisImg;
              return false;
            }
          });
          return imagesInfo;
        }

        function loadContents(curr_book_id, curr_volume_id, start_index, last_index) {
          var url = '/books/' + curr_book_id + '/volume/' + curr_volume_id + '/range?start_index=' + start_index;
          if (last_index) url = url + '&last_index=' + last_index;
          var prev_div = $('#content_' + start_index);
          $.get(url, function (contents) {
            if (!contents || contents.length < 1) return;
            for (var i = 0; i < contents.length; i++) {
              var content = contents[i];
              prev_div = loadContent(prev_div, content);
            }
          })
            .done(function () {
              if (!last_index) {
                setTimeout(onReady, 1000);
                //onReady();
              }
            })
            .fail(function (msg) {
              if (console) console.log(msg);
              //alert("데이터를 읽어오던 중 오류가 발생했습니다.");
            });
        }
        //--

        //세션 설정 갱신
        function changeSessionVolumeSettings() {
          var token = $("input[name='_csrf']").val();
          var dataForm;
          if (sessionVolumeSettings != null) {
            dataForm = sessionVolumeSettings;
          } else {
            dataForm = new Object();
          }

          if ($('#st_or').prop('checked') == true) {
            dataForm['original'] = 1;
          } else {
            dataForm['original'] = 0;
          }
          $.each(volumeLangCodeList, function (key) {
            dataForm[volumeLangCodeList[key].bookCode.toLowerCase()] = 0;
            if ($('#st_' + volumeLangCodeList[key].lowerLanguageCode).prop('checked') == true) {
              dataForm[volumeLangCodeList[key].bookCode.toLowerCase()] = 1;
            }
          });
          if ($('#st_sym').prop('checked') == true) {
            dataForm['sympathetic_groups'] = 1;
          } else {
            dataForm['sympathetic_groups'] = 0;
          }
          if ($('#st_fre').prop('checked') == true) {
            dataForm['frequently_station'] = 1;
          } else {
            dataForm['frequently_station'] = 0;
          }

          dataForm['font_size'] = getFontSize();

          $.ajax({
            type: 'POST',
            url: '/user/changeVolumeSettings.do',
            async: true,
            data: dataForm,
            beforeSend: function (xhr) {
              xhr.setRequestHeader('X-CSRF-TOKEN', token);
            },
            success: function (msg) {},
            error: function (msg) {
              if (console) console.log('changeVolumeSettings : error');
            },
          });
        }

        //content 폰트사이즈 변경
        function setFontSize(font_size) {
          $('.section_desc').css('font-size', font_size);
        }

        function getFontSize() {
          var curr_font_size = $('.section_desc').css('font-size');
          var curr_font_size_num = parseFloat(curr_font_size, 10);
          return curr_font_size_num;
        }

        function clickImage(obj) {
          var imgSrc = $(obj).attr('src');
          $.magnificPopup.open({
            items: {
              src: imgSrc,
            },
            type: 'image',
          });
        }

        function closeDialog() {
          $('#layer01').fadeOut(); //'닫기'버튼을 클릭하면 레이어가 사라진다.
          var oj = $('.layer_bg');
          if (oj.length) {
            oj.fadeOut(500, function () {
              oj.remove();
            });
          }
          $('body').removeClass('modal-open');
        }
        function clickQuoteType(obj) {
          var quoteTypeBtnId = obj.id;
          var referencesText = '';
          var date = new Date();
          var day = date.getDate();
          var monthIndex = date.getMonth();
          var year = date.getFullYear();
          var monthNames = [
            'January',
            'February',
            'March',
            'April',
            'May',
            'June',
            'July',
            'August',
            'September',
            'October',
            'November',
            'December',
          ];
          var quoteUrl =
            rtnDomainName(location.href) + '/books/' + book_id + '/volume/' + volume_id + '#content_' + quote_curr_seq;

          if (quoteTypeBtnId == 'atype') {
            referencesText =
              common_mediclassicsDbNote +
              ' [homepage on the Internet]. ' +
              common_kiom +
              '; 2015' +
              ' [cited ' +
              day +
              ' ' +
              monthNames[monthIndex].substring(0, 3) +
              ' ' +
              year +
              ']. Available from: ' +
              quoteUrl;
          } else if (quoteTypeBtnId == 'btype') {
            referencesText =
              common_kiom +
              '. ' +
              common_mediclassicsDbNote +
              '. Retrieved ' +
              monthNames[monthIndex] +
              ' ' +
              day +
              ', ' +
              year +
              ', from: ' +
              quoteUrl;
          } else if (quoteTypeBtnId == 'ctype') {
            referencesText =
              '"' +
              common_mediclassicsDbNote +
              '" ' +
              common_kiom +
              ', accessed ' +
              monthNames[monthIndex] +
              ' ' +
              day +
              ', ' +
              year +
              ', ' +
              quoteUrl;
          } else if (quoteTypeBtnId == 'dtype') {
            referencesText =
              common_mediclassicsDbNote +
              ' [internet]. ' +
              common_daejeon +
              ':' +
              common_kiom +
              '. [2015]-. ' +
              book_nm_kor +
              ' [cited ' +
              year +
              ' ' +
              monthNames[monthIndex].substring(0, 3) +
              ' ' +
              day +
              ']. ' +
              'Available from: ' +
              quoteUrl;
          }

          $('#quote_references').text(referencesText);
        }

        function sendSns(sns) {
          var target;
          var content_seq = $('#comment_content_seq').val();
          var _url = encodeURIComponent(
            rtnDomainName(location.href) + '/books/' + book_id + '/volume/' + volume_id + '/#content_' + content_seq
          );
          var _txt = encodeURIComponent('');

          switch (sns) {
            case 'FACEBOOK':
              target = {
                method: 'popup',
                url: 'http://www.facebook.com/sharer/sharer.php?u=' + _url,
              };
              break;
            case 'TWITTER':
              target = {
                method: 'popup',
                url: 'http://twitter.com/intent/tweet?text=' + _txt + '&url=' + _url,
              };
              break;
            case 'GOOGLE':
              target = {
                method: 'popup',
                url: 'https://plus.google.com/share?url=' + _url + '&t=' + _txt,
              };
              break;

            default:
              return false;
          }

          //      setTimeout("checkShareSns('" + sns + "','" + _url + "','" + content_seq + "')", 1000 * 90);
          checkShareSns(sns, '', content_seq);
          window.open(target.url, sns, 'width=626,height=436');
          $('#share_layer').addClass('hide');
          return false;
        }

        function checkShareSns(snsType, param_url, content_seq) {
          var token = $("input[name='_csrf']").val();
          var searchForm = {
            book_id: book_id,
            volume_id: volume_id,
            content_seq: content_seq,
            snsType: snsType,
            param_url: param_url,
          };
          $.ajax({
            type: 'POST',
            url: '/books/checkShareCount',
            async: false,
            data: searchForm,
            beforeSend: function (xhr) {
              xhr.setRequestHeader('X-CSRF-TOKEN', token);
            },
            success: function (msg) {
              // console.log(msg);
            },
            error: function (msg) {
              if (console) console.log('commentList : error');
            },
          });
        }

        function rtnDomainName(url) {
          url = url.split('//');
          var head = url[0];
          url = url[1].substr(0, url[1].indexOf('/'));
          return head + '//' + url;
        }

        function closeIframePopup(book_id, volume_id, content_seq) {
          $('body').removeClass('modal-open');
          location.replace(contextPath + 'books/' + book_id + '/volume/' + volume_id + '#content_' + content_seq);
          window.location.reload(true);
        }

        function mobile_opt(that) {
          if (isMobile.any()) {
            if ($('#user_ctrl').is(':visible')) {
              $(window).unbind('scroll.moon');
              removeScrollspy();
            } else {
              onSection($('#comment_content_seq').val());
              scrollBinderMoon(100);
            }
          }
        }

        function commentLoginConfirm() {
          if (!loginContext) {
            var content_seq = $('#comment_content_seq').val();

            $('#comment_content').focusout();
            $('#comment_content').blur();
            if (confirm(login_message_use)) {
              location.href = '/user/signin?content_seq=' + content_seq;
            } else {
              $('#comment_save').focus();
            }
            return false;
          }
        }

        function curr_volume_settings_apply() {
          setFontSize(getFontSize());

          //언어설정
          if ($('#st_or').prop('checked') == true) {
            $('.or').removeClass('hide');
          } else {
            $('.or').addClass('hide');
          }

          $.each(volumeLangCodeList, function (key) {
            if ($('#st_' + volumeLangCodeList[key].lowerLanguageCode).prop('checked') == true) {
              $('.' + volumeLangCodeList[key].lowerLanguageCode).removeClass('hide');
            } else {
              $('.' + volumeLangCodeList[key].lowerLanguageCode).addClass('hide');
            }
          });
          //----
          //교감기 역자주
          if ($('#st_sym').prop('checked') == false) {
            $('.txt_exp02').removeClass('colored');
            $('.txt_exp02').addClass('unchecked');
          }
          if ($('#st_fre').prop('checked') == false) {
            $('.txt_exp01').removeClass('colored');
            $('.txt_exp01').addClass('unchecked');
          }
          //----
        }

        function setIframeShareText() {
          var iframeWidth = $('#iframeWidth').val();
          var iframeHeight = $('#iframeHeight').val();

          $('#framePre').attr('width', Number(iframeWidth) + 20);
          $('#framePre').attr('height', iframeHeight);

          //         WHEN 'BOOK_15_06' THEN 'ak'
          //         WHEN 'BOOK_15_02' THEN 'ko'
          //         WHEN 'BOOK_15_01' THEN 'en'
          //         WHEN 'BOOK_15_03' THEN 'tk'
          //         WHEN 'BOOK_15_04' THEN 'es'
          //         WHEN 'BOOK_15_05' THEN 'ru'
          //         WHEN 'BOOK_15_07' THEN 'zh'
          //         WHEN 'BOOK_15_08' THEN 'ja'

          var languages = '';
          $.each($('.pub_lang_setting'), function (chk) {
            //console.log($(this).prop("checked"));
            //console.log($(this).val());
            if ($(this).prop('checked') == true) {
              languages += (languages == '' ? '' : ',') + $(this).val();
            }
          });

          var iframeUrl =
            rtnDomainName(location.href) +
            '/InnerBooks/' +
            book_id +
            '/InnerVolume/' +
            volume_id +
            '/InnerContent/' +
            iframe_curr_seq +
            '?x=' +
            iframeWidth +
            '&y=' +
            iframeHeight +
            '&lan=' +
            languages;
          $('#framePre').attr('src', iframeUrl);
          $('#iframeText').html(
            '<iframe src="' +
              iframeUrl +
              '" width="' +
              (Number(iframeWidth) + 20) +
              '"' +
              ' height="' +
              iframeHeight +
              '" frameborder="0"></iframe>'
          );
        }

        function frameToggle() {
          if ($('#frameDiv').css('display').toLowerCase() == 'none') {
            $('#share_layer').css('width', $('#share_layer').css('width'));

            $('#frameOnOff').addClass('frameButtonCommonOpen');
            $('#frameOnOff').removeClass('frameButtonCommonClose');
            $('#frameDiv').slideDown(500);
          } else {
            $('#frameOnOff').removeClass('frameButtonCommonOpen');
            $('#frameOnOff').addClass('frameButtonCommonClose');
            $('#frameDiv').slideUp(500);
          }
        }

        function quoteDownBtn() {
          var token = $("input[name='_csrf']").val();
          var searchForm = {
            content: $.trim($('#quote_text').text()),
          };
          $.ajax({
            type: 'POST',
            url: '/books/quoteDownProc',
            async: false,
            data: searchForm,
            beforeSend: function (xhr) {
              xhr.setRequestHeader('X-CSRF-TOKEN', token);
            },
            success: function (msg) {
              $('#quote_layer').addClass('hide');
              var result = msg.RESULT;
              if (result === 'SUCCESS') {
                var file_name = msg.file_name;
                var tempFolder = msg.tempFolder;
                window.location.href = '/books/quoteDown.do?file_name=' + file_name + '&tempFolder=' + tempFolder;
              }
            },
            error: function (msg) {
              if (console) console.log('quoteDownBtn : error');
            },
          });
        }
      </script>
    </div>
    <script type="text/javascript">
      function changeLanguage(locale) {
        var curr_url = location.href;
        var next_url = '';
        var langIndex = curr_url.indexOf('lang=');
        var urlValueIndex = curr_url.indexOf('?');
        var firstChar = '';

        if (urlValueIndex > -1) {
          firstChar = '&';
        } else {
          firstChar = '?';
        }

        if (langIndex > -1) {
          var langNextStr = curr_url.substring(langIndex + 5, curr_url.length);
          var langNextIndex = langIndex + 5 + langNextStr.indexOf('&');
          if (langNextStr.indexOf('&') == -1) {
            next_url += curr_url.substring(0, langIndex + 5);
            next_url += locale;
            console.log(next_url);
          } else {
            next_url += curr_url.substring(0, langIndex + 5);
            next_url += locale;
            next_url += curr_url.substring(langNextIndex, curr_url.length);
          }
        } else {
          next_url += curr_url;
          next_url += firstChar + 'lang=' + locale;
        }
        location.replace(next_url);
      }
    </script>

    <ul
      class="ui-autocomplete ui-front ui-menu ui-widget ui-widget-content"
      id="ui-id-1"
      tabindex="0"
      style="display: none"
    ></ul>
    <span role="status" aria-live="assertive" aria-relevant="additions" class="ui-helper-hidden-accessible"></span>
    <ul
      class="ui-autocomplete ui-front ui-menu ui-widget ui-widget-content"
      id="ui-id-2"
      tabindex="0"
      style="display: none"
    ></ul>
    <span role="status" aria-live="assertive" aria-relevant="additions" class="ui-helper-hidden-accessible"></span>
  </body>
</html>
